cscope 15 /home/leauto/ecolink-sdk/ecolink-demo -q 0000000995 0000055065
	@debug.cpp

10 
	~"debug.h
"

13 
	#MAX_TAGS
 100

	)

16 
TIME_DBG
 
	gdbg
;

18 
TAG
 
	ggs
[
MAX_TAGS
] = {

22 { "Ëd«mÚ", 
TRACE_Ëd«mÚ
 },

23 { "ecŞšk", 
TRACE_ecŞšk
 },

24 { "libso", 
TRACE_libso
 },

25 { "mœrÜ", 
TRACE_mœrÜ
 },

26 { "ÿrhÚe", 
TRACE_ÿrhÚe
 },

29 
	gŒaû_mask
 = 0;

30 
	gŒaû_b™
 = 0;

31 
	gŒaû_couÁ
 = 0;

32 
±h»ad_mu‹x_t
 
	gdbg_lock
 = 
PTHREAD_MUTEX_INITIALIZER
 ;

33 
	g§ve_”ºo
;

34 
timev®
 
	ga5a_t
;

42 
	$check_pošt_š_li¡
(
äom
, 
to
)

44 
i
 = 0;

45 ; 
i
 < 
MAX_CHECK_TIME
 ; i++) {

46 if(
dbg
.
_check_li¡
[
i
][0] =ğ
äom
 &&

47 
dbg
.
_check_li¡
[
i
][1] =ğ
to
) {

48  
i
;

52 
dbg
.
_check_li¡
[dbg.
_check_£q
][0] = 
äom
;

53 
dbg
.
_check_li¡
[dbg.
_check_£q
][1] = 
to
;

54 
dbg
.
_check_£q
 ++;

56  (
dbg
.
_check_£q
 - 1);

57 
	}
}

59 
	$Œaû_š™
(cÚ¡ * 
Çme
)

62 cÚ¡ * 
p
 = 
	`g‘’v
("ECOLINK_TRACE_CFG");

63 cÚ¡ * 
q
;

65 ià(
p
 =ğ
NULL
)

67 
i
;

68 
i
 = 0 ; i < 
MAX_TAGS
 ; i ++) {

69 if(
gs
[
i
].
g
 !ğ
NULL
) {

70 
	`´štf
("Çm% g[i] %s\n",
Çme
 ,
gs
[
i
].
g
);

71 if(!
	`¡rcmp
(
Çme
,
gs
[
i
].
g
)) {

72 
Œaû_b™
 = 
gs
[
i
].
æag
 ;

77 
gs
[
i
].
g
 = 
Çme
;

78 
Œaû_b™
 = 
gs
[
i
].
æag
 = (++ 
Œaû_couÁ
);

81 if(
i
 =ğ
MAX_TAGS
 - 1) {

82 
	`´štf
("error„each maxagsize\n");

89 *
p
) {

90 
Ën
, 
gn
;

92 
q
 = 
	`¡½brk
(
p
, " ,:;");

93 ià(
q
 =ğ
NULL
) {

94 
q
 = 
p
 + 
	`¡¾’
(p);

96 
Ën
 = 
q
 - 
p
;

98 
gn
 = 0; 
gs
[gn].
g
 !ğ
NULL
;agn++) {

99 
gËn
 = 
	`¡¾’
(
gs
[
gn
].
g
);

101 ià(
Ën
 =ğ
gËn
 && !
	`memcmp
(
gs
[
gn
].
g
, 
p
,†en) ) {

102 
æag
 = 
gs
[
gn
].flag;

103 ià(
æag
 == 0) {

104 
Œaû_mask
 = ~0;

105 
	`´štf
("g = %04x\n",
Œaû_mask
);

108 
Œaû_mask
 |ğ(1 << 
æag
);

109 
	`´štf
("g = %04x\n",
Œaû_mask
);

113 
p
 = 
q
;

114 ià(*
p
)

115 
p
++;

118 
	}
}

120 
	$dump
(cÚ¡ * 
buf
, 
Ën
, 
’dŸn
){

121 
i
 = 0;

122 
	`årštf
(
¡d”r
,"%d ms|%s|%s|%d|: ",

123 ()(
a5a_t
.
tv_£c
 * 1000 +‡5a_t.
tv_u£c
 / 1000),

124 
gs
[gs[
Œaû_b™
].
æag
].
g
,
__FILE__
, 
__LINE__
);

125 
	`årštf
(
¡d”r
,"dump\n");

126 if(
’dŸn
 == 0){

127 ;
i
 < 
Ën
; i++){

128 
	`årštf
(
¡d”r
,"%02x ",
buf
[
i
]);

129 if((
i
+1) % 20 == 0)

130 
	`årštf
(
¡d”r
,"\n");

134 ;
i
 < 
Ën
; i++){

135 
	`årštf
(
¡d”r
,"%02x ",
buf
[
Ën
-
i
-1]);

136 if((
i
+1) % 20 == 0)

137 
	`årštf
(
¡d”r
,"\n");

140 
	`årštf
(
¡d”r
,"\n");

141 
	`fæush
(
¡d”r
);

142 
	}
}

	@debug.h

9 #iâdeà
__DEBUG__H


10 
	#__DEBUG__H


	)

12 
	~<¡dio.h
>

13 
	~<”ºo.h
>

14 
	~<sys/time.h
>

15 
	~<±h»ad.h
>

16 
	~<¡dlib.h
>

17 
	~<¡ršg.h
>

19 #ifdeà
__ılu¥lus


24 
	#INTEGRATE_DEBUG


	)

28 
	#TIME_DEBUG


	)

29 
	#TRACE_DEBUG


	)

31 
	#LOG_FILE_PATH
 "/u¤/­p/ecŞšk.log"

	)

32 
	#MAX_CHECK_TIME
 100

	)

34 
	sTIME_DEBUG_STRUCT
 {

35 
timev®
 
t
[
MAX_CHECK_TIME
 ];

36 
_time_couÁ
[
MAX_CHECK_TIME
];

37 
_time_acc_v®
[
MAX_CHECK_TIME
];

38 
_check_li¡
[
MAX_CHECK_TIME
][2];

39 
_cu¼’t_£q
;

40 
_check_£q
;

41 } 
	tTIME_DBG
;

45 cÚ¡ * 
g
;

46 
æag
;

47 } 
	tTAG
;

49 
Œaû_š™
(cÚ¡ * 
Çme
);

50 
dump
(cÚ¡ * 
buf
, 
Ën
, 
’dŸn
);

53 
Œaû_mask
;

54 
Œaû_b™
;

55 
Œaû_couÁ
;

56 
±h»ad_mu‹x_t
 
dbg_lock
;

57 
TAG
 
gs
[];

58 
TIME_DBG
 
dbg
;

59 
§ve_”ºo
;

60 
timev®
 
a5a_t
;

62 
	#TRACE_GOGOGO
(
Çme
è
	`Œaû_š™
(#Çme);

	)

63 
	#ENABLE_TRACING
 ((
Œaû_mask
 & (1 << 
gs
[
Œaû_b™
].
æag
)è!ğ0)

	)

65 
	#DBG
(...) \

67 ià(
ENABLE_TRACING
) { \

68 
	`±h»ad_mu‹x_lock
(&
dbg_lock
); \

69 
	`g‘timeofday
(&
a5a_t
,
NULL
); \

70 
	`årštf
(
¡d”r
,"%d ms|%s|%s|%d|: ", \

71 ()(
a5a_t
.
tv_£c
 * 1000 +‡5a_t.
tv_u£c
 / 1000), \

72 
gs
[gs[
Œaû_b™
].
æag
].
g
,
__FILE__
, 
__LINE__
); \

73 
”ºo
 = 
§ve_”ºo
; \

74 
	`årštf
(
¡d”r
, 
__VA_ARGS__
 ); \

75 
	`fæush
(
¡d”r
); \

76 
	`±h»ad_mu‹x_uÆock
(&
dbg_lock
); \

77 
”ºo
 = 
§ve_”ºo
; \

79 }0)

	)

81 
	#DUMP_L
(
d©a
,
Ën
) \

83 if(
ENABLE_TRACING
){ \

84 
	`±h»ad_mu‹x_lock
(&
dbg_lock
); \

85 
	`dump
(
d©a
,
Ën
,0); \

86 
	`±h»ad_mu‹x_uÆock
(&
dbg_lock
); \

88 }0)

	)

90 
check_pošt_š_li¡
(
äom
, 
to
);

92 #ifdeà
TIME_DEBUG


94 
	#TIME_DECLARE
(è
TIME_DBG
 
dbg


	)

96 
	#TIME_INIT
() do{\

97 
dbg
.
_cu¼’t_£q
 = 0;\

98 
dbg
.
_check_£q
 = 0;\

99 
	`mem£t
(
dbg
.
_time_couÁ
,0,
MAX_CHECK_TIME
 * ());\

100 
	`mem£t
(
dbg
.
_check_li¡
,0,
MAX_CHECK_TIME
 * 2 * ());\

101 
	`mem£t
(
dbg
.
_time_acc_v®
,0,
MAX_CHECK_TIME
 * ());\

102 }0)

	)

104 
	#TIME_INSERT
(
šdex
) do{\

105 
	`g‘timeofday
(&(
dbg
.
t
[
šdex
]),
NULL
);\

106 }0)

	)

108 
	#TIME_PRINT
(
ev’t
,
šdex
) do{\

109 
	`TIME_INSERT
(
šdex
);\

110 
	`´štf
("[%d ms] %s\n",
dbg
.
t
[
šdex
].
tv_£c
 * 1000 + dbg.t[šdex].
tv_u£c
 / 1000, 
ev’t
);\

111 }0)

	)

113 
	#TIME_CHECK
(
äom
,
to
) do{\

114 
dbg
.
_time_acc_v®
[
	`check_pošt_š_li¡
(
äom
,
to
)] +=((dbg.
t
[äom].
tv_£c
-dbg.t[to].tv_£cè* 1000 + (dbg.t[äom].
tv_u£c
-dbg.t[to].tv_usec) / 1000);\

115 
	`´štf
("t"#äom"Øt"#to" co¡ %d ms\n",((
dbg
.
t
[
äom
].
tv_£c
-dbg.t[
to
].tv_£cè* 1000 + (dbg.t[äom].
tv_u£c
-dbg.t[to].tv_usec) / 1000));\

116 }0)

	)

119 
	#TIME_ROUND
(
äom
,
to
) do{\

120 
dbg
.
_time_couÁ
[
	`check_pošt_š_li¡
(
äom
,
to
)] ++;}0)

	)

122 
	#TIME_AVERAGE
(
cÚ‹Á
,
äom
,
to
) do{\

123 
dbg
.
_cu¼’t_£q
 = 
	`check_pošt_š_li¡
(
äom
,
to
);\

124 
dbg
.
_time_acc_v®
[dbg.
_cu¼’t_£q
] +=((dbg.
t
[
äom
].
tv_£c
-dbg.t[
to
].tv_£c)* 1000 + (dbg.t[äom].
tv_u£c
-dbg.t[to].tv_usec) / 1000);\

125 
	`´štf
("timacø=%Îd couÁ = %Îd\n",
dbg
.
_time_acc_v®
[dbg.
_cu¼’t_£q
],dbg.
_time_couÁ
[dbg._current_seq]);\

126 if(
dbg
.
_time_couÁ
[dbg.
_cu¼’t_£q
] % 100 == 0){\

127 if(
dbg
.
_time_acc_v®
[dbg.
_cu¼’t_£q
] == 0){\

128 
dbg
.
_time_couÁ
[dbg.
_cu¼’t_£q
] = 0;\

131 
	`´štf
("<%s> cost %lld ms in %lldimes,‡verage cost %lld ms/image , %lld frames/s\n,",\

132 
cÚ‹Á
,\

133 
dbg
.
_time_acc_v®
[dbg.
_cu¼’t_£q
],\

134 
dbg
.
_time_couÁ
[dbg.
_cu¼’t_£q
],\

135 
dbg
.
_time_acc_v®
[dbg.
_cu¼’t_£q
] / dbg.
_time_couÁ
[dbg._current_seq],\

136 1000 * 
dbg
.
_time_couÁ
[dbg.
_cu¼’t_£q
] / dbg.
_time_acc_v®
[dbg._current_seq]);\

138 }0)

	)

140 
	#TIME_DECLARE
()

	)

141 
	#TIME_IMPORT
()

	)

142 
	#TIME_INIT
()

	)

143 
	#TIME_INSERT
(
šdex
)

	)

144 
	#TIME_PRINT
(
ev’t
,
šdex
)

	)

145 
	#TIME_CHECK
(
äom
,
to
)

	)

146 
	#TIME_ROUND
()

	)

147 
	#TIME_AVERAGE
(
cÚ‹Á
,
äom
,
to
)

	)

150 #ifdeà
__ılu¥lus


	@demo.cpp

8 #iâdeà
__DEMO_C


9 
	#__DEMO_C


	)

11 
	~<¡dio.h
>

12 
	~"debug.h
"

13 
	~"¡»am.h
"

14 
	~"mašwšdow.h
"

15 
	~"sdk.h
"

18 
MašWšdow
* 
wšdow
;

20 
	$cÚÃù
()

22 
	`DBG
("ÿÎback ->%s\n",
__FUNCTION__
);

23 
	`’abË_lšk_Œªsãr
();

24 
	`g¡»am”_š™
(0);

25 
	`g¡»am”_¶ay
();

26 
	}
}

28 
	$discÚÃù
()

30 
	`DBG
("ÿÎback ->%s\n",
__FUNCTION__
);

31 
	`g¡»am”_·u£
();

32 
	`g¡»am”_»Ëa£
();

33 
wšdow
->
	`·št_image
(
	`FULL_PATH
(
š™
.
jpg
));

34 
wšdow
->
	`show_ecŞšk
();

35 
	`di§bË_lšk_Œªsãr
();

36 
	}
}

43 
	$¡_chªged
(* 
¡
)

49 *
¡
)

51 
AndroidAdbNÙO³Ãd
:

52 
	`DBG
("AndroidAdbNotOpened\n");

53 
wšdow
->
	`·št_image
(
	`FULL_PATH
(
h–p
-
ªdroid
.
jpg
));

55 
AndroidOÆše
:

56 
	`DBG
("AndroidOnline\n");

57 
wšdow
->
	`·št_image
(
	`FULL_PATH
(
cÚÃùšg
.
jpg
));

58 
wšdow
->
	`show_ecŞšk
();

60 
AndroidAµLunchFa
:

61 
	`DBG
("AndroidAppLunchFail\n");

62 
wšdow
->
	`·št_image
(
	`FULL_PATH
(
š¡®l
.
jpg
));

64 
DeviûOfæše
:

65 
	`DBG
("DeviceOffline\n");

66 
wšdow
->
	`·št_image
(
	`FULL_PATH
(
š™
.
jpg
));

68 
AndroidPlugoutWh’In¡®lšg
:

69 
	`DBG
("AndroidPlugoutWhenInstalling\n");

70 
wšdow
->
	`·št_image
(
	`FULL_PATH
(
š™
.
jpg
));

72 
IosPlugIn
:

73 
	`DBG
("IosPlugIn\n");

74 
wšdow
->
	`·št_image
(
	`FULL_PATH
(
cÚÃùšg
.
jpg
));

75 
wšdow
->
	`show_ecŞšk
();

77 
IosPlugOut
:

78 
	`DBG
("IosPlugOut\n");

79 
wšdow
->
	`·št_image
(
	`FULL_PATH
(
š™
.
jpg
));

81 
IosAµNÙR—dy
:

82 
	`DBG
("IosAppNotReady\n");

83 
wšdow
->
	`·št_image
(
	`FULL_PATH
(
h–p
-
ios
.
jpg
));

85 
IosDiscÚÃùed
:

86 
	`DBG
("IosDisconnected\n");

88 
IosAµBackground
:

89 
	`DBG
("IosAppBackground\n");

90 
	`g¡»am”_·u£
();

91 
	`g¡»am”_»Ëa£
();

92 
wšdow
->
	`·št_image
(
	`FULL_PATH
(
backgroundt
.
jpg
));

93 
wšdow
->
	`show_ecŞšk
();

95 
AµFÜeground
:

96 
	`DBG
("AppForeground\n");

97 if(
	`g¡»am”_g‘_¡©us
(è!ğ
PLAYING
){

98 
	`g¡»am”_š™
(0);

99 
	`g¡»am”_¶ay
();

102 
AndroidSü“nOn
:

103 
	`DBG
("AndroidScreenOn\n");

105 
AndroidSü“nOff
:

106 
	`DBG
("AndroidScreenOff\n");

108 
AndroidAµBackground
:

109 
	`DBG
("AndroidAppBackground\n");

111 
AndroidDiscÚÃùed
:

112 
	`DBG
("AndroidDisconnected\n");

114 
AndroidCÚÃùed
:

115 
	`DBG
("AndroidConnected\n");

118 
	`DBG
("nÙ defšed s‹ sˆğ%d\n",*
¡
);

121 
	}
}

123 
	$d©a_gÙ‹n
(* 
mode
 ,cÚ¡ * 
bufãr
, * 
size
)

126 
	`g‘_¡—m_d©a_cb
(
bufãr
,
size
);

127 
	}
}

	@demo.h

8 #iâdeà
__DEMO_H


9 
	#__DEMO_H


	)

10 
cÚÃù
();

11 
discÚÃù
();

12 
¡_chªged
(* 
¡
);

13 
d©a_gÙ‹n
(* 
mode
 ,cÚ¡ * 
bufãr
, * 
size
);

	@jpegdecode.cpp

8 #iâdeà
_JPEG_DECODE_C


9 
	#_JPEG_DECODE_C


	)

11 
	~"j³gdecode.h
"

13 
	~"debug.h
"

15 
	gCJ³gDecode
::
	$CJ³gDecode
()

17 
m_rgb_±r
 = 
NULL
;

18 
	`mem£t
(&
m_cšfo
,0,(m_cinfo));

19 
	}
}

21 
	gCJ³gDecode
::~
	$CJ³gDecode
()

23 
m_rgb_±r
 = 
NULL
;

24 
	`mem£t
(&
m_cšfo
,0,(m_cinfo));

25 
	}
}

29 
	gCJ³gDecode
::
	$decode_š™
()

32 
	}
}

34 
	gCJ³gDecode
::
	$decode_äom_fe
(cÚ¡ * 
·th
)

36 
height
,
width
,
Ëv–
;

37 
FILE
 *
å
 = 
NULL
;

38 if((
å
 = 
	`fİ’
(
·th
,"rb")è=ğ
NULL
) {

39 
	`DBG
("”rÜ:İ’ % çed \n",
·th
);

42 
m_cšfo
.
”r
=
	`j³g_¡d_”rÜ
(&
m_j”r
);

43 
	`j³g_C»©eDecom´ess
(&
m_cšfo
,70,(
j³g_decom´ess_¡ruù
));

44 
	`j³g_¡dio_¤c
(&
m_cšfo
, 
å
);

45 
	`j³g_»ad_h—d”
(&
m_cšfo
, 
TRUE
);

46 
m_cšfo
.
out_cŞÜ_¥aû
 = 
JCS_EXT_BGRA
;

47 
	`j³g_¡¬t_decom´ess
(&
m_cšfo
);

48 
height
 = 
m_cšfo
.
ouut_height
;

49 
width
 = 
m_cšfo
.
ouut_width
;

50 
Ëv–
 = 
m_cšfo
.
ouut_compÚ’ts
;

51 
m_size
 = 
m_cšfo
.
ouut_width
 * m_cšfo.
ouut_compÚ’ts
 *m_cšfo.
ouut_height
;

52 
	`DBG
("decodmem width = %d ,heighˆğ%d , ouut_compÚ’t ğ%d\n",
width
,
height
,
Ëv–
);

53 if((
m_rgb_±r
 = (*)
	`m®loc
(
m_size
)) <= 0) {

54 
	`DBG
("decode mallocƒrror\n");

57 
y
 = 0;

58 
m_cšfo
.
ouut_sÿÆše
 < 
height
) {

59 
	`j³g_»ad_sÿÆšes
(&
m_cšfo
, &
m_rgb_±r
 + 
y
 * 
height
 * 
Ëv–


61 
y
++;

66 
	}
}

68 
	gCJ³gDecode
::
	$»Ëa£_rgb_bufãr
()

70 if(
m_rgb_±r
) {

71 
	`ä“
(
m_rgb_±r
);

72 
m_rgb_±r
 = 
NULL
;

75 
	}
}

77 
	gCJ³gDecode
::
	$decode_äom_mem
(cÚ¡ * 
mem_±r
, 
size
)

79 
height
,
width
,
Ëv–
;

80 
m_cšfo
.
”r
=
	`j³g_¡d_”rÜ
(&
m_j”r
);

81 
	`j³g_C»©eDecom´ess
(&
m_cšfo
,70,(
j³g_decom´ess_¡ruù
));

82 
	`j³g_mem_¤c
(&
m_cšfo
,
mem_±r
,
size
);

83 
	`j³g_»ad_h—d”
(&
m_cšfo
, 
TRUE
);

84 
m_cšfo
.
out_cŞÜ_¥aû
 = 
JCS_EXT_RGBA
;

85 
	`j³g_¡¬t_decom´ess
(&
m_cšfo
);

86 
height
 = 
m_cšfo
.
ouut_height
;

87 
width
 = 
m_cšfo
.
ouut_width
;

88 
Ëv–
 = 
m_cšfo
.
ouut_compÚ’ts
;

89 
m_size
 = 
height
 * 
width
 * 
Ëv–
;

90 if((
m_rgb_±r
 = (*)
	`m®loc
(
m_size
)) <= 0) {

91 
	`DBG
("decode mallocƒrror\n");

94 
y
 = 0;

95 
m_cšfo
.
ouut_sÿÆše
 < 
height
) {

97 
	`j³g_»ad_sÿÆšes
(&
m_cšfo
, &
m_rgb_±r
, 1);

98 
m_rgb_±r
 +ğ
width
 * 
Ëv–
;

99 
y
++;

102 
m_rgb_±r
 -ğ
m_size
;

106 
	}
}

	@jpegdecode.h

8 #iâdeà
_JPEG_DECODE_H


9 
	#_JPEG_DECODE_H


	)

11 
	~<QImage
>

12 
	~<QPixm­
>

13 
	~"/u¤/loÿl/libj³g-turbo-1.4.2/ä“sÿË/šşude/j³glib.h
"

15 
usšg
 
Çme¥aû
 
	g¡d
;

16 şas 
	cCJ³gDecode


18 
	mpublic
:

19 
CJ³gDecode
();

20 ~
CJ³gDecode
();

21 
decode_š™
();

22 
decode_äom_fe
(cÚ¡ * 
·th
);

23 
decode_äom_mem
(cÚ¡ * 
mem_±r
, 
size
);

24 
»Ëa£_rgb_bufãr
();

25 * 
	mm_rgb_±r
;

26 
	mm_size
;

27 
	m´iv©e
:

28 
j³g_”rÜ_mgr
 
m_j”r
;

29 
j³g_decom´ess_¡ruù
 
	mm_cšfo
;

30 
	m´Ùeùed
:

	@main.cpp

1 
	~<QAµliÿtiÚ
>

3 
	~"mašwšdow.h
"

4 
	~"debug.h
"

6 
	~"¡»am.h
"

7 
	~"sdk.h
"

8 
	~"demo.h
"

11 
MašWšdow
 * 
	gwšdow
;

20 
	$maš
(
¬gc
, *
¬gv
[])

22 
QAµliÿtiÚ
 
	`­p
(
¬gc
, 
¬gv
);

23 
MašWšdow
 
w
;

24 
wšdow
 = &
w
;

28 
wšdow
->
m_rbuf
.
	`£t_mašwšdow_±r
(&
w
);

29 
wšdow
->
m_rbuf
.
	`š™
();

30 
wšdow
->
	`show
();

34 
ECOLINK_CFG
 
cfg
;

35 
cfg
.
lšk_cÚÃùed_cb
 = 
cÚÃù
;

36 
cfg
.
lšk_discÚÃùed_cb
 = 
discÚÃù
;

37 
cfg
.
lšk_¡©us_chªged_cb
ğ
¡_chªged
;

38 
cfg
.
lšk_phÚe_sü“n_d©a_cb
ğ
d©a_gÙ‹n
;

42 
cfg
.
sc_ba£_x
 = 0;

43 
cfg
.
sc_ba£_y
 = 40;

47 
cfg
.
sc_width
= 1280;

48 
cfg
.
sc_height
= 720;

53 if(
	`š™_lšk
(&
cfg
))

54 
	`ex™
(-1);

58 if(
	`š™_touchev’t
("/dev/input/touchscreen0"))

59 
	`ex™
(-1);

61 
	`DBG
("qt5ƒcolink start\n");

63  
­p
.
	`exec
();

64 
	}
}

	@mainwindow.cpp

1 
	~"mašwšdow.h
"

2 
	~"ui_mašwšdow.h
"

3 
	~"debug.h
"

4 
	~"¡»am.h
"

10 
	~<QImage
>

12 
	~<uni¡d.h
>

18 
	gMašWšdow
::
	$gl_d¿w_image
()

20 
·th
[128] = {'\0'};

22 
num
 = (
couÁ
++ % 9) + 1;

23 
	`¥rštf
(
·th
,"/u¤/­p/»s/images/koko/koko%d.jpg",
num
);

24 
QImage
 
image
;

25 
image
.
	`lßd
(
·th
);

27 
	}
}

31 
	gMašWšdow
::
	$qt_d¿w_image
()

33 
·th
[128] = {'\0'};

35 
num
 = (
couÁ
++ % 9) + 1;

36 
	`¥rštf
(
·th
,"/u¤/­p/»s/images/koko/koko%d.jpg",
num
);

39 
QPixm­
 
pixm­
;

40 
pixm­
.
	`lßd
(
·th
);

41 
pixm­
 =…ixm­.
	`sÿËd
(1280,800);

42 
this
->
ui
->
Ïb–
->
	`£tPixm­
(
pixm­
);

45 
this
->
ui
->
Ïb–
->
	`£tPixm­
(
	`QPixm­
(
·th
));

49 if(!(
couÁ
 % 50)) {

50 
this
->
	`hide
();

52 if(!(
couÁ
 % 100)) {

53 
this
->
	`show
();

56 
	}
}

58 
	gMašWšdow
::
	$MašWšdow
(
QWidg‘
 *
·»Á
) :

59 
	`QMašWšdow
(
·»Á
),

60 
	$ui
(
Ãw
 
Ui
::
MašWšdow
)

63 
couÁ
 = 1;

64 
tim”
 = 
Ãw
 
	`QTim”
(
this
);

65 
cur_pos
 = 
Ãw
 
	`QPošt
();

66 
ui
->
	`£tupUi
(
this
);

68 
	`£tWšdowFÏgs
(
Qt
::
F¿m–essWšdowHšt
 | Qt::
WšdowSysOnTİHšt
);

70 
	`£tAutoFlBackground
(
Œue
);

71 
QP®‘‹
 
·Ë‰e
;

77 
this
->
	`·št_image
(
	`FULL_PATH
(
š™
.
jpg
));

79 
	}
}

81 
	gMašWšdow
::~
	$MašWšdow
()

83 
d–‘e
 
ui
;

84 
	}
}

92 
	gMašWšdow
::
	$·štEv’t
(
QPaštEv’t
 *
ev’t
)

98 
	}
}

103 
MašWšdow
::
	$mou£P»ssEv’t
(
QMou£Ev’t
 *
ev’t
)

105 *
cur_pos
 = 
ev’t
->
	`pos
();

107 
x
 = 
cur_pos
->
	`x
();

108 
y
 = 
cur_pos
->
	`y
();

109 
	}
}

114 
	gMašWšdow
::
	$mou£MoveEv’t
(
QMou£Ev’t
 *
ev’t
)

116 *
cur_pos
 = 
ev’t
->
	`pos
();

118 
x
 = 
cur_pos
->
	`x
();

119 
y
 = 
cur_pos
->
	`y
();

120 
	}
}

122 
	gMašWšdow
::
	$mou£R–—£Ev’t
(
QMou£Ev’t
 *
ev’t
)

124 *
cur_pos
 = 
ev’t
->
	`pos
();

126 
x
 = 
cur_pos
->
	`x
();

127 
y
 = 
cur_pos
->
	`y
();

128 
	}
}

130 
	gMašWšdow
::
	$¡¬t_g‘_image
()

133 
	}
}

135 
MašWšdow
::
	$¡İ_g‘_image
()

137 
	}
}

139 
MašWšdow
::
	$show_ecŞšk
()

141 
this
->
	`show
();

142 
	}
}

143 
	gMašWšdow
::
	$hide_ecŞšk
()

145 
this
->
	`hide
();

146 
	}
}

148 
	gMašWšdow
::
	$·št_image
(cÚ¡ * 
fe
)

151 
ui
->
Ïb–
->
	`£tPixm­
(
	`QPixm­
(
fe
));

153 
	}
}

155 
	gMašWšdow
::
	$·št_image
(
mode
 ,* 
mem
, 
size
)

157 
i
 =0;

158 
fd
;

159 
fÜm©
;

160 
»t
;

161 
mode
 = 0;

162 
i
++;

163 
mode
) {

165 ifĞ
i
 & 1) {

166 
m_pix
.
	`lßdFromD©a
(
mem
,
size
,"JPG");

169 if(
m_pix
.
	`width
() == 1280) {

170 
ui
->
Ïb–
->
	`£tPixm­
(
m_pix
);

171 
ui
->
Ïb–
->
	`£tGeom‘ry
(0,0,1280,800);

173 } if(
m_pix
.
	`width
() == 400) {

174 
ui
->
Ïb–
->
	`£tPixm­
(
m_pix
);

175 
ui
->
Ïb–
->
	`£tGeom‘ry
((1280-400)/2,0,(1280-400)/2,800);

176 
	`u¦“p
(20000);

179 
m_pix1
.
	`lßdFromD©a
(
mem
,
size
,"JPG");

182 if(
m_pix1
.
	`width
() == 1280) {

183 
ui
->
Ïb–
->
	`£tPixm­
(
m_pix1
);

184 
ui
->
Ïb–
->
	`£tGeom‘ry
(0,0,1280,800);

186 } if(
m_pix1
.
	`width
() == 400) {

187 
ui
->
Ïb–
->
	`£tPixm­
(
m_pix1
);

188 
ui
->
Ïb–
->
	`£tGeom‘ry
((1280-400)/2,0,(1280-400)/2,800);

189 
	`u¦“p
(20000);

194 
fÜm©
 = 
QImage
::
FÜm©_RGBA8888
;

195 
»t
 = 
m_rbuf
.
m_decod”
.
	`decode_äom_mem
(
mem
,
size
);

196 
	`DBG
("w = %d h = %d \n",
m_pix
.
	`width
(),m_pix.
	`height
());

197 if(
m_pix
.
	`width
() == 1280) {

198 
m_im
 = 
	`QImage
(
m_rbuf
.
m_decod”
.
m_rgb_±r
,

202 (
QImage
::
FÜm©
)
fÜm©
);

203 
m_pix
 = 
QPixm­
::
	`äomImage
(
m_im
);

204 
ui
->
Ïb–
->
	`£tPixm­
(
m_pix
);

205 
ui
->
Ïb–
->
	`£tGeom‘ry
(0,0,1280,800);

206 
	`u¦“p
(10000);

207 } if(
m_pix
.
	`width
() == 400) {

208 
m_im
 = 
	`QImage
(
m_rbuf
.
m_decod”
.
m_rgb_±r
,

212 (
QImage
::
FÜm©
)
fÜm©
);

213 
m_pix
 = 
QPixm­
::
	`äomImage
(
m_im
);

214 
ui
->
Ïb–
->
	`£tPixm­
(
m_pix
);

215 
ui
->
Ïb–
->
	`£tGeom‘ry
((1280-400)/2,0,(1280-400)/2,800);

216 
	`u¦“p
(20000);

218 
m_rbuf
.
m_decod”
.
	`»Ëa£_rgb_bufãr
();

223 
	}
}

	@mainwindow.h

1 #iâdeà
MAINWINDOW_H


2 
	#MAINWINDOW_H


	)

4 
	~<QMašWšdow
>

5 
	~<QLab–
>

6 
	~<QPixm­
>

7 
	~<QImage
>

8 
	~<QPaš‹r
>

9 
	~<QTim”
>

10 
	~<QMou£Ev’t
>

12 
	~"ršgbufãr.h
"

14 
	#FULL_PATH
(
f’ame
è"/u¤/­p/»s/Ë/images/"#f’ame""

	)

16 
Çme¥aû
 
	gUi


18 
şass
 
	gMašWšdow
;

21 şas 
	cMašWšdow
 : 
public
 
QMašWšdow


23 
Q_OBJECT


25 
public
:

26 
CRšgBuf
 
m_rbuf
;

27 
	mcouÁ
;

28 
QTim”
 *
	mtim”
;

29 
QPošt
 *
	mcur_pos
;

30 
QPixm­
 
	mm_pix
;

31 
QPixm­
 
	mm_pix1
;

32 
QImage
 
	mm_im
;

36 
ex¶ic™
 
MašWšdow
(
QWidg‘
 *
·»Á
 = 0);

37 ~
MašWšdow
();

38 
·št_image
(cÚ¡ * 
fe
);

39 
·št_image
(
mode
, * 
mem
 , 
size
);

40 
¡¬t_g‘_image
();

41 
¡İ_g‘_image
();

42 
¡İ_decode_·št
();

43 
show_ecŞšk
();

44 
hide_ecŞšk
();

45 
g‘_mœrÜ_¡©us
();

46 
£t_mœrÜ_¡©us
(
æag
);

47 
´iv©e
 
	m¦Ùs
:

49 
qt_d¿w_image
();

50 
gl_d¿w_image
();

52 
	m´iv©e
:

53 
Ui
::
MašWšdow
 *
ui
;

54 
th»ad_cÚsume
(* 
pd©a
);

55 
	m´Ùeùed
:

56 
·štEv’t
(
QPaštEv’t
 *
ev’t
);

57 
mou£P»ssEv’t
(
QMou£Ev’t
 *
ev’t
);

58 
mou£MoveEv’t
(
QMou£Ev’t
 *
ev’t
);

59 
mou£R–—£Ev’t
(
QMou£Ev’t
 *
ev’t
);

	@moc_mainwindow.cpp

9 
	~"mašwšdow.h
"

10 
	~<QtCÜe/qby‹¬¿y.h
>

11 
	~<QtCÜe/qm‘©y³.h
>

12 #ià!
defšed
(
Q_MOC_OUTPUT_REVISION
)

14 #–ià
Q_MOC_OUTPUT_REVISION
 != 67

20 
QT_BEGIN_MOC_NAMESPACE


21 
	sqt_m‘a_¡ršgd©a_MašWšdow_t
 {

22 
QBy‹A¼ayD©a
 
	md©a
[4];

23 
	m¡ršgd©a0
[40];

25 
	#QT_MOC_LITERAL
(
idx
, 
ofs
, 
Ën
) \

26 
	`Q_STATIC_BYTE_ARRAY_DATA_HEADER_INITIALIZER_WITH_OFFSET
(
Ën
, \

27 
	`q±rdiff
(
	`off£tof
(
qt_m‘a_¡ršgd©a_MašWšdow_t
, 
¡ršgd©a0
è+ 
ofs
 \

28 - 
idx
 * (
QBy‹A¼ayD©a
)) \

29 )

	)

30 cÚ¡ 
qt_m‘a_¡ršgd©a_MašWšdow_t
 
	gqt_m‘a_¡ršgd©a_MašWšdow
 = {

32 
QT_MOC_LITERAL
(0, 0, 10),

33 
QT_MOC_LITERAL
(1, 11, 13),

34 
QT_MOC_LITERAL
(2, 25, 0),

35 
QT_MOC_LITERAL
(3, 26, 13)

40 #undeà
QT_MOC_LITERAL


42 cÚ¡ 
ušt
 
	gqt_m‘a_d©a_MašWšdow
[] = {

60 
QM‘aTy³
::
Void
,

61 
QM‘aTy³
::
Void
,

66 
	gMašWšdow
::
	$qt_¡©ic_m‘aÿÎ
(
QObjeù
 *
_o
, 
QM‘aObjeù
::
C®l
 
_c
, 
_id
, **
_a
)

68 ià(
_c
 =ğ
QM‘aObjeù
::
InvokeM‘aM‘hod
) {

69 
MašWšdow
 *
_t
 = 
¡©ic_ÿ¡
<MašWšdow *>(
_o
);

70 
	`Q_UNUSED
(
_t
)

71 
_id
) {

72 0: 
_t
->
	`qt_d¿w_image
(); ;

73 1: 
_t
->
	`gl_d¿w_image
(); ;

77 
	`Q_UNUSED
(
_a
);

78 
	}
}

80 cÚ¡ 
QM‘aObjeù
 
	gMašWšdow
::
¡©icM‘aObjeù
 = {

81 { &
QMašWšdow
::
¡©icM‘aObjeù
, 
qt_m‘a_¡ršgd©a_MašWšdow
.
d©a
,

82 
qt_m‘a_d©a_MašWšdow
, 
qt_¡©ic_m‘aÿÎ
, 
Q_NULLPTR
, Q_NULLPTR}

86 cÚ¡ 
QM‘aObjeù
 *
	gMašWšdow
::
	$m‘aObjeù
() const

88  
QObjeù
::
d_±r
->
m‘aObjeù
 ? QObjeù::d_±r->
	`dyÇmicM‘aObjeù
(è: &
¡©icM‘aObjeù
;

89 
	}
}

91 *
	gMašWšdow
::
	$qt_m‘aÿ¡
(cÚ¡ *
_şÇme
)

93 ià(!
_şÇme
è 
Q_NULLPTR
;

94 ià(!
	`¡rcmp
(
_şÇme
, 
qt_m‘a_¡ršgd©a_MašWšdow
.
¡ršgd©a0
))

95  
¡©ic_ÿ¡
<*>(
cÚ¡_ÿ¡
< 
MašWšdow
*>(
this
));

96  
QMašWšdow
::
	`qt_m‘aÿ¡
(
_şÇme
);

97 
	}
}

99 
	gMašWšdow
::
	$qt_m‘aÿÎ
(
QM‘aObjeù
::
C®l
 
_c
, 
_id
, **
_a
)

101 
_id
 = 
QMašWšdow
::
	`qt_m‘aÿÎ
(
_c
, _id, 
_a
);

102 ià(
_id
 < 0)

103  
_id
;

104 ià(
_c
 =ğ
QM‘aObjeù
::
InvokeM‘aM‘hod
) {

105 ià(
_id
 < 2)

106 
	`qt_¡©ic_m‘aÿÎ
(
this
, 
_c
, 
_id
, 
_a
);

107 
_id
 -= 2;

108 } ià(
_c
 =ğ
QM‘aObjeù
::
Regi¡”M‘hodArgum’tM‘aTy³
) {

109 ià(
_id
 < 2)

110 *
»š‹½»t_ÿ¡
<*>(
_a
[0]) = -1;

111 
_id
 -= 2;

113  
_id
;

114 
	}
}

115 
	gQT_END_MOC_NAMESPACE


	@ringbuffer.cpp

8 #iâdeà
__RING_BUFFER_C


9 
	#__RING_BUFFER_C


	)

12 
	~"debug.h
"

13 
	~"ršgbufãr.h
"

14 
	~"mašwšdow.h
"

15 
	~<±h»ad.h
>

16 
	~<uni¡d.h
>

19 
	#is_pow”_of_2
(
x
è((xè!ğ0 && (((xè& ((xè- 1)è=ğ0))

	)

20 
	#mš
(
a
, 
b
è((×è< (b)è? (aè: (b))

	)

27 
	gCRšgBuf
::
	$ršg_bufãr_ä“
(
ršg_bufãr
 *
ršg_buf
)

29 ià(
ršg_buf
) {

30 ià(
ršg_buf
->
bufãr
) {

31 
	`ä“
(
ršg_buf
->
bufãr
);

33 
	`ä“
(
ršg_buf
);

34 
ršg_buf
 = 
NULL
;

36 
	}
}

38 * 
	gCRšgBuf
::
	$th»ad_cÚsume
(* 
pd©a
)

41 
m_wš
->
m_rbuf
.
	`ršg_bufãr_g‘
();

43 
	}
}

45 
	gCRšgBuf
::
	$£t_mašwšdow_±r
(
MašWšdow
 * 
w
)

47 
m_wš
 = 
w
;

48 
	}
}

50 
	gCRšgBuf
::
	$CRšgBuf
()

52 
lock
 = 
PTHREAD_MUTEX_INITIALIZER
;

53 
cÚd
 = 
PTHREAD_COND_INITIALIZER
;

54 
buf_±r
 = 
NULL
;

55 
m_wš
 = 
NULL
;

56 
	}
}

59 
	gCRšgBuf
::~
	$CRšgBuf
()

61 
	`ršg_bufãr_ä“
(
buf_±r
);

62 
buf_±r
 = 
NULL
;

63 
m_wš
 = 
NULL
;

64 
	}
}

66 
	gCRšgBuf
::
	$__ršg_bufãr_Ën
(cÚ¡ 
ršg_bufãr
 * 
ršg_buf
)

68  (
ršg_buf
->
š
 -„šg_buf->
out
);

69 
	}
}

75 
	gCRšgBuf
::
	$ršg_bufãr_Ën
(cÚ¡ 
ršg_bufãr
 *
ršg_buf
)

77 
Ën
 = 0;

78 
	`±h»ad_mu‹x_lock
(&
lock
);

79 
Ën
 = 
	`__ršg_bufãr_Ën
(
ršg_buf
);

80 
	`±h»ad_mu‹x_uÆock
(&
lock
);

81  
Ën
;

82 
	}
}

90 
	gCRšgBuf
::
	$ršg_bufãr_put_1
(* 
bufãr
, 
bufãrsize
)

92 
»t
 = -1;

93 
Ën
 = 0;

94 
»cv_Ën
 = 0;

96 
	`±h»ad_mu‹x_lock
(&
lock
);

97 
size
 = 
	`mš
(1, 
buf_±r
->siz- (buf_±r->
š
 - buf_±r->
out
));

98 if(
size
 == 0) {

101 
	`±h»ad_cÚd_wa™
(&
cÚd
,&
lock
);

102 
size
 = (
buf_±r
->siz- (buf_±r->
š
 - buf_±r->
out
));

107 
	`±h»ad_mu‹x_uÆock
(&
lock
);

109 
	`memıy
(
buf_±r
->
bufãr
 + (buf_±r->
š
 & (buf_±r->
size
 - 1)), bufãr, 
bufãrsize
);

110 
buf_±r
->
av®uabË_Ëngth_š_bufãr
[buf_±r->
š
 & (buf_±r->
size
 - 1)] = 
bufãrsize
;

111 
buf_±r
->
š
 +ğ
size
;

114 
	`±h»ad_cÚd_sigÇl
(&
cÚd
);

117 
	}
}

119 
	gCRšgBuf
::
	$ršg_bufãr_g‘
()

121 
	`±h»ad_mu‹x_lock
(&
lock
);

122 
size
 = 
	`mš
(1, 
buf_±r
->
š
 - buf_±r->
out
);

123 if(
size
 == 0) {

126 
	`±h»ad_cÚd_wa™
(&
cÚd
,&
lock
);

127 
size
 = 
	`mš
(1, 
buf_±r
->
š
 - buf_±r->
out
);

133 
	`±h»ad_mu‹x_uÆock
(&
lock
);

135 
	`fun
(
image_di¥Ïy_is_Ãed
,

136 
NULL
,

137 (cÚ¡ *)(
buf_±r
->
bufãr
 + (buf_±r->
out
 & (buf_±r->
size
 - 1))),

138 
buf_±r
->
av®uabË_Ëngth_š_bufãr
[buf_±r->
out
 & (buf_±r->
size
 - 1)]);

139 
buf_±r
->
out
 +=
size
;

143 
m_wš
->
	`·št_image
(0,(*)(
buf_±r
->
bufãr
 + (buf_±r->
out
 & (buf_±r->
size
 - 1))),buf_±r->
av®uabË_Ëngth_š_bufãr
[buf_ptr->out & (buf_ptr->size - 1)]);

145 
	`±h»ad_cÚd_sigÇl
(&
cÚd
);

148 
	}
}

150 
	gCRšgBuf
::
	$š™
()

152 
buf_±r
 = (
ršg_bufãr
 *)
	`m®loc
((ring_buffer));

153 if(
buf_±r
 =ğ
NULL
) {

157 
	`mem£t
(
buf_±r
,0,(
ršg_bufãr
));

158 
buf_±r
->
bufãr
 = ((*)[
BUFFFER_SIZE
])
	`m®loc
(BUFFFER_SIZE * 
RING_DEPTH
);

159 if(
buf_±r
->
bufãr
 =ğ
NULL
) {

160 
	`DBG
("buffer mallocƒrror\n");

163 
buf_±r
->
size
 = 
RING_DEPTH
;

164 
buf_±r
->
š
 = 0;

165 
buf_±r
->
out
 = 0;

167 
±h»ad_t
 
pid
;

168 
»t
;

169 
»t
 = 
	`±h»ad_ü—‹
(&
pid
, 
NULL
, (*)&
CRšgBuf
::
th»ad_cÚsume
, NULL);

170 if(
»t
 != 0) {

171 
	`DBG
("thread_consume createƒrror\n");

177 
	}
}

	@ringbuffer.h

9 #iâdeà
__RING_BUF_H


10 
	#__RING_BUF_H


	)

13 
	~"j³gdecode.h
"

18 
	#BUFFFER_SIZE
 500*1024

	)

19 
	#RING_DEPTH
 2

	)

21 
	sršg_bufãr
 {

23 (*
	mbufãr
)[
BUFFFER_SIZE
];

24 
	mav®uabË_Ëngth_š_bufãr
[
RING_DEPTH
];

25 
	msize
;

26 
	mš
;

27 
	mout
;

28 } 
	tršg_bufãr
;

31 (*
	tu£_image_d©a_äom_bufãr
)(const *,);

33 
şass
 
MašWšdow
;

35 şas 
	cCRšgBuf


38 
public
:

39 
	`CRšgBuf
();

40 ~
	`CRšgBuf
();

41 
	`ršg_bufãr_ä“
(
ršg_bufãr
 *
ršg_buf
);

42 
	`š™
();

43 
	`ršg_bufãr_Ën
(cÚ¡ 
ršg_bufãr
 *
ršg_buf
);

44 
	`ršg_bufãr_put_1
(* 
bufãr
, 
bufãrsize
);

45 
	`ršg_bufãr_g‘
();

46 
	`£t_mašwšdow_±r
(
MašWšdow
* 
w
);

47 
ršg_bufãr
* 
buf_±r
 ;

48 
CJ³gDecode
 
m_decod”
;

49 
´iv©e
:

50 
MašWšdow
 * 
m_wš
;

51 
	`__ršg_bufãr_Ën
(cÚ¡ 
ršg_bufãr
 * 
ršg_buf
);

52 * 
	`th»ad_cÚsume
(* 
pd©a
);

53 
±h»ad_mu‹x_t
 
lock
 ;

54 
±h»ad_cÚd_t
 
cÚd
 ;

	@sdk.h

8 #iâdeà
__ECOLINK_SDK_H


9 
	#__ECOLINK_SDK_H


	)

12 
	#IN


	)

13 
	#OUT


	)

14 
	#NULL
 0

	)

16 #ifdeà
__ılu¥lus


25 
DeviûOfæše
 = 0,

30 
AndroidOÆše
,

35 
AndroidAµLunchFa
,

40 
AndroidPlugoutWh’In¡®lšg
 = 3,

45 
AndroidAdbNÙO³Ãd
,

50 
AndroidSü“nOff
,

55 
AndroidSü“nOn
 = 6,

61 
AµFÜeground
,

66 
AndroidAµBackground
,

71 
AndroidCÚÃùed
,

76 
AndroidDiscÚÃùed
 = 10,

81 
IosPlugIn
,

86 
IosPlugOut
,

93 
IosAµBackground
 = 13,

98 
IosAµNÙR—dy
,

103 
IosCÚÃùed
,

108 
IosDiscÚÃùed
 = 16,

111 
Re£rved
,

113 }
	tECOLINK_ST
;

117 
JPEG
 = 0,

118 
STREAM
,

119 }
	tECOLINK_MODE
;

124 (*
lšk_cÚÃùed_cb
)();

125 (*
lšk_discÚÃùed_cb
)();

126 (*
lšk_¡©us_chªged_cb
)(
OUT
 * 
¡©us
);

127 (*
lšk_phÚe_sü“n_d©a_cb
)(
OUT
 * 
mode
 ,OUT cÚ¡ * 
bufãr
, OUT * 
size
);

128 
v›w_ba£_x
;

129 
v›w_ba£_y
;

130 
v›w_width
;

131 
v›w_height
;

132 
sc_width
;

133 
sc_height
;

134 } 
	tECOLINK_CFG
;

142 
qu”y_sdk_v”siÚ
(* 
v”siÚ
);

148 
š™_lšk
(
IN
 
ECOLINK_CFG
* 
cb
);

154 
»Ëa£_lšk
();

160 
g‘_lšk_¡©us
();

165 
’abË_lšk_Œªsãr
();

171 
di§bË_lšk_Œªsãr
();

177 
g‘_lšk_Œªsãr_¡©us
();

184 
š™_touchev’t
(cÚ¡ * 
dev
);

189 
’abË_touchev’t
();

194 
di§bË_touchev’t
();

196 #ifdeà
__ılu¥lus


	@stream.cpp

1 #iâdeà
_STREAM_PLAY_CPP


2 
	#_STREAM_PLAY_CPP


	)

4 
	~"¡»am.h
"

5 
	~"debug.h
"

12 
	g¡©e
 = 
NULLSTATE
;

13 
±h»ad_mu‹x_t
 
	glock
 = 
PTHREAD_MUTEX_INITIALIZER
 ;

14 
gušt
 
	gsourû_id
 = 0;

15 
GMašLoİ
 * 
	gloİ
;

16 
G¡AµSrc
* 
	g¤c
 = 
NULL
;

17 
G¡EËm’t
* 
	gp–še
 = 
NULL
;

22 
	$¡¬t_loİ
(* 
·¿
)

24 
	`DBG
("%s\n",
__FUNCTION__
);

25 
	`g_»tuº_if_ç
(
NULL
 !ğ
loİ
);

26 
	`g_maš_loİ_run
(
loİ
);

27 if(
¡©e
 !ğ
NULLSTATE
){

28 
	`DBG
("exit†ooping\n");

29 
	`g¡_–em’t_£t_¡©e
 (
p–še
, 
GST_STATE_NULL
);

30 
	`g¡_objeù_uÄef
(
	`GST_OBJECT
(
p–še
));

31 
	`g_maš_loİ_uÄef
(
loİ
);

34 
	}
}

41 
	$g¡»am”_g‘_¡©us
(){

42  
¡©e
;

43 
	}
}

45 
	$g¡»am”_¡¬t_loİ
()

47 
GTh»ad
 * 
th»ad
 = 
	`g_th»ad_Ãw
("loİ", (
GTh»adFunc
)
¡¬t_loİ
, 
NULL
);

48 
	}
}

51 
	$g¡»am”_¶ay
()

54 if(
p–še
)

55 
	`g¡_–em’t_£t_¡©e
 (
p–še
, 
GST_STATE_PLAYING
);

56 
¡©e
 = 
PLAYING
;

57 
	}
}

60 
	$g¡»am”_·u£
()

62 if(
p–še
){

63 
	`g¡_–em’t_£t_¡©e
 (
p–še
, 
GST_STATE_PAUSED
);

65 
¡©e
 = 
PAUSED
;

67 
	}
}

70 
	$g¡»am”_»Ëa£
()

72 
	`DBG
("%s\n",
__FUNCTION__
);

73 
¡©e
 = 
NULLSTATE
;

74 if(
p–še
)

75 
	`g¡_–em’t_£t_¡©e
 (
p–še
, 
GST_STATE_NULL
);

77 
	`g_maš_loİ_qu™
(
loİ
);

79 
	}
}

89 
	$push_š
(* 
d©a
 ,
Ëngth
,
±h»ad_mu‹x_t
* 
lock
){

94 
G¡FlowR‘uº
 
sigÇl_¡©us
;

95 
G¡Bufãr
* 
bufãr
;

96 
gušt8
 *
±r
 = (gušt8 *)
	`g_m®loc
(
Ëngth
);

97 
	`g_as£¹
(
±r
);

98 
	`memıy
(
±r
,
d©a
,
Ëngth
);

99 
bufãr
 = 
	`g¡_bufãr_Ãw
();

100 
	`g¡_bufãr_­³nd_memÜy
(
bufãr
,

101 
	`g¡_memÜy_Ãw_w¿µed
(

102 
GST_MEMORY_FLAG_PHYSICALLY_CONTIGUOUS
,

103 
±r
, 
Ëngth
, 0,†’gth,…Œ, 
g_ä“
));

104 
	`g_sigÇl_em™_by_Çme
(
¤c
, "push-bufãr", 
bufãr
, &
sigÇl_¡©us
);

106 if(
GST_FLOW_OK
 =ğ
sigÇl_¡©us
) {

108 
	`g¡_bufãr_uÄef
(
bufãr
);

109 
	`±h»ad_mu‹x_uÆock
(
lock
);

110  
Œue
;

112 
	`DBG
("push bufã¸»tuºed %d fÜ %d by‹ \n", 
sigÇl_¡©us
, 
Ëngth
);

113 
	`g¡_bufãr_uÄef
(
bufãr
);

114 
	`±h»ad_mu‹x_uÆock
(
lock
);

115  
çl£
;

117 
	}
}

124 
	g¡»am_buf
[ 1000 * 1024];

125 
	gbufã»d_Ën
 = 0;

126 
	ghas_lÚg_äame_bufã»d
 = 
FALSE
;

127 
	g¡¬t
 = 0;

128 
	g¡©us
 = 0;

129 
	eSTATUS
{

130 
	mHAS_START_CODE_f
,

131 
	mHAS_START_CODE_s
,

132 
	mMORE_DATA
,

133 
	mHAS_FRAME_HEAD


136 
	$g‘_¡—m_d©a_cb
(*
d©a
, 
Ëngth
)

139 if(
¡©e
 =ğ
PLAYING
){

140 
	`±h»ad_mu‹x_lock
(&
lock
);

142 
Çl_h—d”
 = *((*)
d©a
);

143 
	`DUMP_L
(
d©a
,10);

145 
¡©us
){

146 
HAS_FRAME_HEAD
:

148 
	`push_š
(
¡»am_buf
,
bufã»d_Ën
,&
lock
);

149 
bufã»d_Ën
 = 0;

151 
¡©us
 = 0;

153 
MORE_DATA
:

154 
	`memıy
(
¡»am_buf
 + 
bufã»d_Ën
,
d©a
,
Ëngth
);

155 
bufã»d_Ën
 +ğ
Ëngth
;

157 
¡©us
 = 
MORE_DATA
;

158 
	`±h»ad_mu‹x_uÆock
(&
lock
);

163 if(
Çl_h—d”
 == 0x01000000){

164 if(
d©a
[4] == 0x65 ||

165 
d©a
[4] == 0x41 ||

166 
d©a
[4] == 0x67){

167 
	`memıy
(
¡»am_buf
 + 
bufã»d_Ën
,
d©a
,
Ëngth
);

168 
bufã»d_Ën
 +ğ
Ëngth
;

170 
¡©us
 = 
HAS_FRAME_HEAD
;

171 
	`±h»ad_mu‹x_uÆock
(&
lock
);

177 
	`push_š
(
d©a
,
Ëngth
,&
lock
);

181 
	}
}

184 
gboŞ—n
 
	$bus_ÿÎback
(
G¡Bus
 *
bus
, 
G¡Mes§ge
 *
msg
, 
gpoš‹r
 
d©a
)

186 
	`GST_MESSAGE_TYPE
(
msg
)) {

187 
GST_MESSAGE_EOS
:

188 
	`DBG
("End-of-stream\n");

191 
GST_MESSAGE_ERROR
:

192 
gch¬
 *
debug
;

193 
GE¼Ü
 *
”rÜ
;

195 
	`g¡_mes§ge_·r£_”rÜ
(
msg
, &
”rÜ
, &
debug
);

196 
	`g_ä“
(
debug
);

198 
	`DBG
("E¼Ü: %s\n", 
”rÜ
->
mes§ge
);

199 
	`g_”rÜ_ä“
(
”rÜ
);

205 
GST_MESSAGE_WARNING
: {

206 
gch¬
 *
debug
;

207 
GE¼Ü
 *
”r
;

209 
	`g¡_mes§ge_·r£_w¬nšg
(
msg
, &
”r
, &
debug
);

210 
	`g_ä“
(
debug
);

211 
	`DBG
("Mes§gW¬À %d E¼Ü: (%s:%dè%s\n", (
gšt32
)
”r
->
domaš
, 
	`g_qu¬k_to_¡ršg
Ó¼->domaš),”r->
code
,ƒ¼->
mes§ge
);

212 
	`g_”rÜ_ä“
(
”r
);

216 
GST_MESSAGE_INFO
: {

217 
	`DBG
(" Message Info\n");

220 
GST_MESSAGE_TAG
: {

223 
GST_MESSAGE_STATE_CHANGED
: {

224 
G¡S‹
 
Şd_¡©e
, 
Ãw_¡©e
;

226 
	`g¡_mes§ge_·r£_¡©e_chªged
(
msg
, &
Şd_¡©e
, &
Ãw_¡©e
, 
NULL
);

228 
	`DBG
 (" Element %s changed state from %so %s\n",

229 
	`GST_OBJECT_NAME
 (
msg
->
¤c
),

230 
	`g¡_–em’t_¡©e_g‘_Çme
 (
Şd_¡©e
),

231 
	`g¡_–em’t_¡©e_g‘_Çme
 (
Ãw_¡©e
));

235 
GST_MESSAGE_STEP_DONE
: {

236 
	`DBG
("Message StepDone\n");

239 
GST_MESSAGE_NEW_CLOCK
: {

240 
	`DBG
("Message NewClock\n");

243 
GST_MESSAGE_STREAM_STATUS
: {

244 
G¡SŒ—mStusTy³
 
ty³
;

245 
G¡EËm’t
 *
owÃr
;

246 
	`g¡_mes§ge_·r£_¡»am_¡©us
 (
msg
, &
ty³
, &
owÃr
);

248 
	`DBG
("Mes§gSŒ—mStu EËm’ˆ% (%d)\n", 
	`GST_OBJECT_NAME
 (
msg
->
¤c
), (
gšt32
)
ty³
);

253 
	`DBG
("deçuÉ,ty³ = %d\n",
	`GST_MESSAGE_TYPE
(
msg
));

257  
Œue
;

258 
	}
}

260 
	gËn
 = 0;

261 
	gtÙ®
 = 0;

262 
FILE
* 
	gå
 = 
NULL
 ;

265 
gboŞ—n
 
	$g‘_¡»am_d©a
(* 
d©a
 , 
Ëngth
)

267 
	`DBG
("data from file\n");

268 
äame_Ën
 = 1024 * 50;

269 
gušt8
 *
±r
 = (gušt8 *)
	`g_m®loc
(
äame_Ën
);

270 
	`g_as£¹
(
±r
);

271 
G¡FlowR‘uº
 
sigÇl_¡©us
;

272 
G¡Bufãr
* 
bufãr
;

273 if((
Ën
 = 
	`ä—d
(
±r
,(),
äame_Ën
,
å
)) != 0) {

274 
tÙ®
 +ğ
Ën
;

276 
bufãr
 = 
	`g¡_bufãr_Ãw
();

277 
	`g¡_bufãr_­³nd_memÜy
(
bufãr
,

278 
	`g¡_memÜy_Ãw_w¿µed
(
GST_MEMORY_FLAG_READONLY
, 
±r
, 
Ën
, 0,†’,…Œ, 
g_ä“
));

279 
	`g_sigÇl_em™_by_Çme
(
¤c
, "push-bufãr", 
bufãr
, &
sigÇl_¡©us
);

280 if(
GST_FLOW_OK
 =ğ
sigÇl_¡©us
) {

281 
	`DBG
("push buffer ok\n");

282 
	`g¡_bufãr_uÄef
(
bufãr
);

283  
Œue
;

285 
	`DBG
("push bufã¸»tuºed %d fÜ %d by‹ \n", 
sigÇl_¡©us
, 
Ën
);

286 
	`g¡_bufãr_uÄef
(
bufãr
);

287  
çl£
;

290 
	}
}

297 
	$¡¬t_ãed
(
G¡EËm’t
 * 
p–še
, 
gušt
 
size
, 
gpoš‹r
 
d©a
)

300 #ifdeà
SRC_FROM_FILE


301 ià(
sourû_id
 == 0) {

302 
sourû_id
 = 
	`g_idË_add
((
GSourûFunc
)
g‘_¡»am_d©a
, 
d©a
);

305 
	}
}

311 
	$¡İ_ãed
(
G¡EËm’t
 * 
p–še
, 
gpoš‹r
 
d©a
)

313 
gušt64
 
max
 = 
	`g¡_­p_¤c_g‘_max_by‹s
(
¤c
);

314 
gušt64
 
cur
 = 
	`g¡_­p_¤c_g‘_cu¼’t_Ëv–_by‹s
(
¤c
);

315 
	`DBG
("w¬Âšg ! sŒ—m d©¨fuÎ max=%d cur=%d\n",
max
,
cur
);

316 #ifdeà
SRC_FROM_FILE


317 ià(
sourû_id
 != 0) {

318 
	`g_sourû_»move
(
sourû_id
);

319 
sourû_id
 = 0;

322 
	}
}

330 
	$g¡»am”_š™
(
Ãed_sÿË
)

332 
	`DBG
("%s\n",
__FUNCTION__
);

333 
G¡Bus
 *
bus
;

334 
G¡EËm’t
* 
·r£r
ğ
NULL
;

335 
G¡EËm’t
* 
decod”
 = 
NULL
;

336 
G¡EËm’t
* 
cÚv”‹r
 = 
NULL
;

337 
G¡EËm’t
* 
¿‹
 = 
NULL
;

338 
G¡EËm’t
* 
sÿË
 = 
NULL
;

339 
G¡EËm’t
* 
f‹r
 = 
NULL
;

340 
G¡EËm’t
* 
sšk
 = 
NULL
;

341 
GV®ue
 
v®ue
;

343 
	`g¡_š™
(
NULL
, NULL);

344 
loİ
 = 
	`g_maš_loİ_Ãw
(
NULL
,
çl£
);

347 
p–še
 = 
	`g¡_p–še_Ãw
("h264-fifo-player");

348 if(!
p–še
 ) {

349 
	`DBG
("create…ipelineƒlement fail\n");

351 
¤c
 = (
G¡AµSrc
 *)
	`g¡_–em’t_çùÜy_make
("appsrc","src0");

352 if(!
¤c
) {

353 
	`DBG
("create src fail\n");

355 
	`g_objeù_£t
(
	`G_OBJECT
(
¤c
), "is-live", 
TRUE
, 
NULL
);

356 
	`g_objeù_£t
(
	`G_OBJECT
(
¤c
), "block", 
TRUE
, 
NULL
);

359 
	`g¡_­p_¤c_£t_¡»am_ty³
(
¤c
, 
GST_APP_STREAM_TYPE_STREAM
);

360 
	`g¡_­p_¤c_£t_max_by‹s
(
¤c
,100 * 1024);

365 
·r£r
 = 
	`g¡_–em’t_çùÜy_make
("h264parse","parser");

366 if(!
·r£r
) {

367 
	`DBG
("create…arser fail\n");

369 
decod”
 = 
	`g¡_–em’t_çùÜy_make
("ducatih264decvpe","decoder");

370 if(!
decod”
) {

371 
	`DBG
("create decoder fail\n");

374 
cÚv”‹r
 = 
	`g¡_–em’t_çùÜy_make
("videoconvert","converter");

375 if(!
cÚv”‹r
) {

376 
	`DBG
("create converter fail\n");

379 if(
Ãed_sÿË
){

380 
¿‹
 = 
	`g¡_–em’t_çùÜy_make
("videorate","rate");

381 if(!
¿‹
) {

382 
	`DBG
("create„ate fail\n");

384 
sÿË
 = 
	`g¡_–em’t_çùÜy_make
("videoscale","scale");

385 if(!
sÿË
) {

386 
	`DBG
("create scale fail\n");

388 
f‹r
 = 
	`g¡_–em’t_çùÜy_make
("capsfilter","filter");

389 if(!
f‹r
) {

390 
	`DBG
("create„ate fail\n");

393 
G¡C­s
 *
ÿps
 = 
	`g¡_ÿps_äom_¡ršg
 ("video/x-raw,height=800,width=1280");

394 
	`g_objeù_£t
 (
f‹r
, "ÿps", 
ÿps
, 
NULL
);

397 
sšk
 = 
	`g¡_–em’t_çùÜy_make
("waylandsink","sink");

399 if(!
sšk
) {

400 
	`DBG
("create sink fail\n");

403 
	`g_objeù_£t
(
sšk
, "sync", 
çl£
, "async",çl£,
NULL
);

405 
ivi_id
 = 101202;

406 
	`mem£t
(&
v®ue
, 0, (
GV®ue
));

407 
	`g_v®ue_š™
(&
v®ue
, 
G_TYPE_INT
);

408 
	`g_v®ue_£t_št
(&
v®ue
, 
ivi_id
);

409 
	`g_objeù_£t_´İ”ty
(
	`G_OBJECT
(
sšk
), "ivi-id", &
v®ue
);

412 
bus
 = 
	`g¡_p–še_g‘_bus
(
	`GST_PIPELINE
(
p–še
));

413 
	`g¡_bus_add_w©ch
(
bus
, 
bus_ÿÎback
, 
loİ
);

414 
	`g¡_objeù_uÄef
(
bus
);

417 if(
Ãed_sÿË
){

418 
	`g¡_bš_add_mªy
(
	`GST_BIN
(
p–še
),(
G¡EËm’t
* )
¤c
,
·r£r
,
decod”
,
cÚv”‹r
,
sÿË
,
f‹r
,
sšk
,
NULL
);

420 if(!
	`g¡_–em’t_lšk_mªy
((
G¡EËm’t
* )
¤c
,
·r£r
,
decod”
,
cÚv”‹r
,
sÿË
,
f‹r
,
sšk
,
NULL
))

421 
	`DBG
("pipeline†ink fail\n");

423 
	`DBG
("pipeline†ink ok\n");

426 
	`g¡_bš_add_mªy
(
	`GST_BIN
(
p–še
),(
G¡EËm’t
* )
¤c
,
·r£r
,
decod”
,
cÚv”‹r
,
sšk
,
NULL
);

428 if(!
	`g¡_–em’t_lšk_mªy
((
G¡EËm’t
* )
¤c
,
·r£r
,
decod”
,
cÚv”‹r
,
sšk
,
NULL
))

429 
	`DBG
("pipeline†ink fail\n");

431 
	`DBG
("pipeline†ink ok\n");

435 
	`g_sigÇl_cÚÃù
(
¤c
, "Ãed-d©a", 
	`G_CALLBACK
(
¡¬t_ãed
), (
gpoš‹r
)
NULL
);

437 
	`g_sigÇl_cÚÃù
(
¤c
, "’ough-d©a", 
	`G_CALLBACK
(
¡İ_ãed
), (
gpoš‹r
)
NULL
);

439 
	`g¡_–em’t_£t_¡©e
(
p–še
,
GST_STATE_NULL
);

441 #ifdeà
SRC_FROM_FILE


442 if((
å
 = 
	`fİ’
((*)
·th
,"rb")è=ğ
NULL
) {

443 
	`DBG
("file openƒrror\n");

444 
	`ex™
(-1);

449 
	`g_maš_loİ_run
(
loİ
);

450 
¡©e
 = 
NULLSTATE
;

456 
	`g¡»am”_¡¬t_loİ
();

457 
	`u¦“p
(100000);

462 
	}
}

465 
	$ov”Ïy
()

468 
gušt
 
majÜ
, 
mšÜ
, 
miüo
, 
Çno
;

469 
	`g¡_š™
 (&
¬gc
, &
¬gv
);

470 
	`g¡_v”siÚ
 (&
majÜ
, &
mšÜ
, &
miüo
, &
Çno
);

471 
	`DBG
("g¡ v”siÚ %d-%d-%d-%d\n",
majÜ
,
mšÜ
,
miüo
,
Çno
);

472 
G¡EËm’t
 *
¶aybš
, *
videosšk
;

473 
gch¬
 *
uri
;

474 
¶aybš
 = 
	`g¡_–em’t_çùÜy_make
 ("playbin", "myplaybin");

475 
videosšk
 = 
	`g¡_–em’t_çùÜy_make
 ("waylandsink", "waylandsink0");

476 
	`g_objeù_£t
 (
¶aybš
, "video-sšk", 
videosšk
, 
NULL
);

477 
	`g_objeù_£t
 (
¶aybš
, "uri", "/home/roÙ/ecŞšk-ui/ecŞšk-ui/image/1280x800.h264", 
NULL
);

479 
	`g¡_video_ov”Ïy_£t_wšdow_hªdË
(
	`GST_VIDEO_OVERLAY
(
videosšk
), 
w
.
	`wšId
());

481 
G¡S‹ChªgeR‘uº
 
¤‘
 = 
	`g¡_–em’t_£t_¡©e
 (
¶aybš
,
GST_STATE_PLAYING
);

484 
	}
}

	@stream.h

1 #iâdeà
STREAM_PLAY_H


2 
	#STREAM_PLAY_H


	)

10 
	~<sys/ty³s.h
>

11 
	~<uni¡d.h
>

12 
	~<¡dlib.h
>

13 
	~<¡dio.h
>

14 
	~<¡ršg.h
>

15 
	~<sys/ty³s.h
>

16 
	~<sys/¡©.h
>

17 
	~<sys/£Ëù.h
>

18 
	~<fú.h
>

19 
	~<±h»ad.h
>

20 
	~<¡ddef.h
>

21 
	~<¡dšt.h
>

23 
	~<g¡/g¡.h
>

24 
	~<g¡/­p/g¡­p¤c.h
>

28 
	mNULLSTATE
 = 0,

29 
	mINITIALIZED
,

30 
	mPLAYING
,

31 
	mPAUSED
,

32 
	mRELEASED


33 } 
	tPLAYING_STATE
;

37 
g¡»am”_š™
(
Ãed_sÿË
);

38 
g‘_¡—m_d©a_cb
(*
d©a
, 
Ëngth
);

39 
g¡»am”_¶ay
();

40 
g¡»am”_·u£
();

41 
g¡»am”_»Ëa£
();

42 
g¡»am”_g‘_¡©us
();

	@ui_mainwindow.h

9 #iâdeà
UI_MAINWINDOW_H


10 
	#UI_MAINWINDOW_H


	)

12 
	~<QtCÜe/QV¬ŸÁ
>

13 
	~<QtWidg‘s/QAùiÚ
>

14 
	~<QtWidg‘s/QAµliÿtiÚ
>

15 
	~<QtWidg‘s/QBu‰ÚGroup
>

16 
	~<QtWidg‘s/QH—d”V›w
>

17 
	~<QtWidg‘s/QLab–
>

18 
	~<QtWidg‘s/QMašWšdow
>

19 
	~<QtWidg‘s/QWidg‘
>

21 
QT_BEGIN_NAMESPACE


23 şas 
	cUi_MašWšdow


25 
	mpublic
:

26 
QWidg‘
 *
ûÁ¿lWidg‘
;

27 
QLab–
 *
	mÏb–
;

29 
	$£tupUi
(
QMašWšdow
 *
MašWšdow
)

31 ià(
MašWšdow
->
	`objeùName
().
	`isEm±y
())

32 
MašWšdow
->
	`£tObjeùName
(
	`QSŒšgL™”®
("MainWindow"));

33 
MašWšdow
->
	`»size
(1280, 800);

34 
ûÁ¿lWidg‘
 = 
Ãw
 
	`QWidg‘
(
MašWšdow
);

35 
ûÁ¿lWidg‘
->
	`£tObjeùName
(
	`QSŒšgL™”®
("centralWidget"));

36 
ûÁ¿lWidg‘
->
	`£tCÚ‹xtM’uPŞicy
(
Qt
::
NoCÚ‹xtM’u
);

37 
Ïb–
 = 
Ãw
 
	`QLab–
(
ûÁ¿lWidg‘
);

38 
Ïb–
->
	`£tObjeùName
(
	`QSŒšgL™”®
("label"));

39 
Ïb–
->
	`£tGeom‘ry
(
	`QReù
(0, 0, 1280, 800));

40 
MašWšdow
->
	`£tC’Œ®Widg‘
(
ûÁ¿lWidg‘
);

42 
	`»Œª¦©eUi
(
MašWšdow
);

44 
QM‘aObjeù
::
	`cÚÃùSlÙsByName
(
MašWšdow
);

47 
	$»Œª¦©eUi
(
QMašWšdow
 *
MašWšdow
)

49 
MašWšdow
->
	`£tWšdowT™Ë
(
QAµliÿtiÚ
::
	`Œª¦©e
("MainWindow", "MainWindow", 0));

50 
Ïb–
->
	`£tText
(
	`QSŒšg
());

51 
	}
}

55 
Çme¥aû
 
	gUi
 {

56 şas 
	cMašWšdow
: 
public
 
Ui_MašWšdow
 {};

59 
	gQT_END_NAMESPACE


	@/usr/local/libjpeg-turbo-1.4.2/freescale/include/jpeglib.h

16 #iâdeà
JPEGLIB_H


17 
	#JPEGLIB_H


	)

26 #iâdeà
JCONFIG_INCLUDED


27 
	~"jcÚfig.h
"

29 
	~"jmÜecfg.h
"

32 #ifdeà
__ılu¥lus


33 #iâdeà
DONT_USE_EXTERN_C


44 
	#DCTSIZE
 8

	)

45 
	#DCTSIZE2
 64

	)

46 
	#NUM_QUANT_TBLS
 4

	)

47 
	#NUM_HUFF_TBLS
 4

	)

48 
	#NUM_ARITH_TBLS
 16

	)

49 
	#MAX_COMPS_IN_SCAN
 4

	)

50 
	#MAX_SAMP_FACTOR
 4

	)

58 
	#C_MAX_BLOCKS_IN_MCU
 10

	)

59 #iâdeà
D_MAX_BLOCKS_IN_MCU


60 
	#D_MAX_BLOCKS_IN_MCU
 10

	)

67 
JSAMPLE
 *
	tJSAMPROW
;

68 
JSAMPROW
 *
	tJSAMPARRAY
;

69 
JSAMPARRAY
 *
	tJSAMPIMAGE
;

71 
JCOEF
 
	tJBLOCK
[
DCTSIZE2
];

72 
JBLOCK
 *
	tJBLOCKROW
;

73 
JBLOCKROW
 *
	tJBLOCKARRAY
;

74 
JBLOCKARRAY
 *
	tJBLOCKIMAGE
;

76 
JCOEF
 *
	tJCOEFPTR
;

89 
UINT16
 
quªtv®
[
DCTSIZE2
];

95 
boŞ—n
 
£Á_bË
;

96 } 
	tJQUANT_TBL
;

103 
UINT8
 
b™s
[17];

105 
UINT8
 
huffv®
[256];

111 
boŞ—n
 
£Á_bË
;

112 } 
	tJHUFF_TBL
;

121 
compÚ’t_id
;

122 
compÚ’t_šdex
;

123 
h_§mp_çùÜ
;

124 
v_§mp_çùÜ
;

125 
quªt_tbl_no
;

130 
dc_tbl_no
;

131 
ac_tbl_no
;

140 
JDIMENSION
 
width_š_blocks
;

141 
JDIMENSION
 
height_š_blocks
;

148 #ià
JPEG_LIB_VERSION
 >= 70

149 
DCT_h_sÿËd_size
;

150 
DCT_v_sÿËd_size
;

152 
DCT_sÿËd_size
;

160 
JDIMENSION
 
down§m¶ed_width
;

161 
JDIMENSION
 
down§m¶ed_height
;

166 
boŞ—n
 
compÚ’t_Ãeded
;

170 
MCU_width
;

171 
MCU_height
;

172 
MCU_blocks
;

173 
MCU_§m¶e_width
;

174 
Ï¡_cŞ_width
;

175 
Ï¡_row_height
;

181 
JQUANT_TBL
 * 
quªt_bË
;

184 * 
dù_bË
;

185 } 
	tj³g_compÚ’t_šfo
;

191 
comps_š_sÿn
;

192 
compÚ’t_šdex
[
MAX_COMPS_IN_SCAN
];

193 
Ss
, 
Se
;

194 
Ah
, 
Al
;

195 } 
	tj³g_sÿn_šfo
;

199 
j³g_m¬k”_¡ruù
 * 
	tj³g_§ved_m¬k”_±r
;

201 
	sj³g_m¬k”_¡ruù
 {

202 
j³g_§ved_m¬k”_±r
 
Ãxt
;

203 
UINT8
 
m¬k”
;

204 
Üigš®_Ëngth
;

205 
d©a_Ëngth
;

206 
JOCTET
 * 
d©a
;

212 
	#JCS_EXTENSIONS
 1

	)

213 
	#JCS_ALPHA_EXTENSIONS
 1

	)

216 
JCS_UNKNOWN
,

217 
JCS_GRAYSCALE
,

218 
JCS_RGB
,

220 
JCS_YCbCr
,

221 
JCS_CMYK
,

222 
JCS_YCCK
,

223 
JCS_EXT_RGB
,

224 
JCS_EXT_RGBX
,

225 
JCS_EXT_BGR
,

226 
JCS_EXT_BGRX
,

227 
JCS_EXT_XBGR
,

228 
JCS_EXT_XRGB
,

235 
JCS_EXT_RGBA
,

236 
JCS_EXT_BGRA
,

237 
JCS_EXT_ABGR
,

238 
JCS_EXT_ARGB
,

239 
JCS_RGB565


240 } 
	tJ_COLOR_SPACE
;

245 
JDCT_ISLOW
,

246 
JDCT_IFAST
,

247 
JDCT_FLOAT


248 } 
	tJ_DCT_METHOD
;

250 #iâdeà
JDCT_DEFAULT


251 
	#JDCT_DEFAULT
 
JDCT_ISLOW


	)

253 #iâdeà
JDCT_FASTEST


254 
	#JDCT_FASTEST
 
JDCT_IFAST


	)

260 
JDITHER_NONE
,

261 
JDITHER_ORDERED
,

262 
JDITHER_FS


263 } 
	tJ_DITHER_MODE
;

268 
	#j³g_commÚ_f›lds
 \

269 
j³g_”rÜ_mgr
 * 
”r
; \

270 
j³g_memÜy_mgr
 * 
mem
; \

271 
j³g_´og»ss_mgr
 * 
´og»ss
; \

272 * 
ş›Á_d©a
; \

273 
boŞ—n
 
is_decom´essÜ
; \

274 
glob®_¡©e


	)

280 
	sj³g_commÚ_¡ruù
 {

281 
j³g_commÚ_f›lds
;

288 
j³g_commÚ_¡ruù
 * 
	tj_commÚ_±r
;

289 
j³g_com´ess_¡ruù
 * 
	tj_com´ess_±r
;

290 
j³g_decom´ess_¡ruù
 * 
	tj_decom´ess_±r
;

295 
	sj³g_com´ess_¡ruù
 {

296 
j³g_commÚ_f›lds
;

299 
j³g_de¡š©iÚ_mgr
 * 
de¡
;

306 
JDIMENSION
 
image_width
;

307 
JDIMENSION
 
image_height
;

308 
šput_compÚ’ts
;

309 
J_COLOR_SPACE
 
š_cŞÜ_¥aû
;

311 
šput_gamma
;

321 #ià
JPEG_LIB_VERSION
 >= 70

322 
sÿË_num
, 
sÿË_d’om
;

324 
JDIMENSION
 
j³g_width
;

325 
JDIMENSION
 
j³g_height
;

334 
d©a_´ecisiÚ
;

336 
num_compÚ’ts
;

337 
J_COLOR_SPACE
 
j³g_cŞÜ_¥aû
;

339 
j³g_compÚ’t_šfo
 * 
comp_šfo
;

342 
JQUANT_TBL
 * 
quªt_tbl_±rs
[
NUM_QUANT_TBLS
];

343 #ià
JPEG_LIB_VERSION
 >= 70

344 
q_sÿË_çùÜ
[
NUM_QUANT_TBLS
];

350 
JHUFF_TBL
 * 
dc_huff_tbl_±rs
[
NUM_HUFF_TBLS
];

351 
JHUFF_TBL
 * 
ac_huff_tbl_±rs
[
NUM_HUFF_TBLS
];

354 
UINT8
 
¬™h_dc_L
[
NUM_ARITH_TBLS
];

355 
UINT8
 
¬™h_dc_U
[
NUM_ARITH_TBLS
];

356 
UINT8
 
¬™h_ac_K
[
NUM_ARITH_TBLS
];

358 
num_sÿns
;

359 cÚ¡ 
j³g_sÿn_šfo
 * 
sÿn_šfo
;

365 
boŞ—n
 
¿w_d©a_š
;

366 
boŞ—n
 
¬™h_code
;

367 
boŞ—n
 
İtimize_codšg
;

368 
boŞ—n
 
CCIR601_§m¶šg
;

369 #ià
JPEG_LIB_VERSION
 >= 70

370 
boŞ—n
 
do_çncy_down§m¶šg
;

372 
smoÙhšg_çùÜ
;

373 
J_DCT_METHOD
 
dù_m‘hod
;

380 
»¡¬t_š‹rv®
;

381 
»¡¬t_š_rows
;

385 
boŞ—n
 
wr™e_JFIF_h—d”
;

386 
UINT8
 
JFIF_majÜ_v”siÚ
;

387 
UINT8
 
JFIF_mšÜ_v”siÚ
;

392 
UINT8
 
d’s™y_un™
;

393 
UINT16
 
X_d’s™y
;

394 
UINT16
 
Y_d’s™y
;

395 
boŞ—n
 
wr™e_Adobe_m¬k”
;

402 
JDIMENSION
 
Ãxt_sÿÆše
;

411 
boŞ—n
 
´og»ssive_mode
;

412 
max_h_§mp_çùÜ
;

413 
max_v_§mp_çùÜ
;

415 #ià
JPEG_LIB_VERSION
 >= 70

416 
mš_DCT_h_sÿËd_size
;

417 
mš_DCT_v_sÿËd_size
;

420 
JDIMENSION
 
tÙ®_iMCU_rows
;

431 
comps_š_sÿn
;

432 
j³g_compÚ’t_šfo
 * 
cur_comp_šfo
[
MAX_COMPS_IN_SCAN
];

435 
JDIMENSION
 
MCUs_³r_row
;

436 
JDIMENSION
 
MCU_rows_š_sÿn
;

438 
blocks_š_MCU
;

439 
MCU_memb”sh
[
C_MAX_BLOCKS_IN_MCU
];

443 
Ss
, 
Se
, 
Ah
, 
Al
;

445 #ià
JPEG_LIB_VERSION
 >= 80

446 
block_size
;

447 cÚ¡ * 
Çtu¿l_Üd”
;

448 
lim_Se
;

454 
j³g_comp_ma¡”
 * 
ma¡”
;

455 
j³g_c_maš_cÚŒŞËr
 * 
maš
;

456 
j³g_c_´•_cÚŒŞËr
 * 
´•
;

457 
j³g_c_cÛf_cÚŒŞËr
 * 
cÛf
;

458 
j³g_m¬k”_wr™”
 * 
m¬k”
;

459 
j³g_cŞÜ_cÚv”‹r
 * 
ccÚv”t
;

460 
j³g_down§m¶”
 * 
down§m¶e
;

461 
j³g_fÜw¬d_dù
 * 
fdù
;

462 
j³g_’Œİy_’cod”
 * 
’Œİy
;

463 
j³g_sÿn_šfo
 * 
süt_¥aû
;

464 
süt_¥aû_size
;

470 
	sj³g_decom´ess_¡ruù
 {

471 
j³g_commÚ_f›lds
;

474 
j³g_sourû_mgr
 * 
¤c
;

479 
JDIMENSION
 
image_width
;

480 
JDIMENSION
 
image_height
;

481 
num_compÚ’ts
;

482 
J_COLOR_SPACE
 
j³g_cŞÜ_¥aû
;

489 
J_COLOR_SPACE
 
out_cŞÜ_¥aû
;

491 
sÿË_num
, 
sÿË_d’om
;

493 
ouut_gamma
;

495 
boŞ—n
 
bufã»d_image
;

496 
boŞ—n
 
¿w_d©a_out
;

498 
J_DCT_METHOD
 
dù_m‘hod
;

499 
boŞ—n
 
do_çncy_up§m¶šg
;

500 
boŞ—n
 
do_block_smoÙhšg
;

502 
boŞ—n
 
quªtize_cŞÜs
;

504 
J_DITHER_MODE
 
d™h”_mode
;

505 
boŞ—n
 
two_·ss_quªtize
;

506 
desœed_numb”_of_cŞÜs
;

508 
boŞ—n
 
’abË_1·ss_quªt
;

509 
boŞ—n
 
’abË_ex‹º®_quªt
;

510 
boŞ—n
 
’abË_2·ss_quªt
;

518 
JDIMENSION
 
ouut_width
;

519 
JDIMENSION
 
ouut_height
;

520 
out_cŞÜ_compÚ’ts
;

521 
ouut_compÚ’ts
;

525 
»c_outbuf_height
;

537 
aùu®_numb”_of_cŞÜs
;

538 
JSAMPARRAY
 
cŞÜm­
;

548 
JDIMENSION
 
ouut_sÿÆše
;

553 
šput_sÿn_numb”
;

554 
JDIMENSION
 
šput_iMCU_row
;

560 
ouut_sÿn_numb”
;

561 
JDIMENSION
 
ouut_iMCU_row
;

570 (*
cÛf_b™s
)[
DCTSIZE2
];

581 
JQUANT_TBL
 * 
quªt_tbl_±rs
[
NUM_QUANT_TBLS
];

584 
JHUFF_TBL
 * 
dc_huff_tbl_±rs
[
NUM_HUFF_TBLS
];

585 
JHUFF_TBL
 * 
ac_huff_tbl_±rs
[
NUM_HUFF_TBLS
];

592 
d©a_´ecisiÚ
;

594 
j³g_compÚ’t_šfo
 * 
comp_šfo
;

597 #ià
JPEG_LIB_VERSION
 >= 80

598 
boŞ—n
 
is_ba£lše
;

600 
boŞ—n
 
´og»ssive_mode
;

601 
boŞ—n
 
¬™h_code
;

603 
UINT8
 
¬™h_dc_L
[
NUM_ARITH_TBLS
];

604 
UINT8
 
¬™h_dc_U
[
NUM_ARITH_TBLS
];

605 
UINT8
 
¬™h_ac_K
[
NUM_ARITH_TBLS
];

607 
»¡¬t_š‹rv®
;

612 
boŞ—n
 
§w_JFIF_m¬k”
;

614 
UINT8
 
JFIF_majÜ_v”siÚ
;

615 
UINT8
 
JFIF_mšÜ_v”siÚ
;

616 
UINT8
 
d’s™y_un™
;

617 
UINT16
 
X_d’s™y
;

618 
UINT16
 
Y_d’s™y
;

619 
boŞ—n
 
§w_Adobe_m¬k”
;

620 
UINT8
 
Adobe_ŒªsfÜm
;

622 
boŞ—n
 
CCIR601_§m¶šg
;

628 
j³g_§ved_m¬k”_±r
 
m¬k”_li¡
;

637 
max_h_§mp_çùÜ
;

638 
max_v_§mp_çùÜ
;

640 #ià
JPEG_LIB_VERSION
 >= 70

641 
mš_DCT_h_sÿËd_size
;

642 
mš_DCT_v_sÿËd_size
;

644 
mš_DCT_sÿËd_size
;

647 
JDIMENSION
 
tÙ®_iMCU_rows
;

656 
JSAMPLE
 * 
§m¶e_¿nge_lim™
;

663 
comps_š_sÿn
;

664 
j³g_compÚ’t_šfo
 * 
cur_comp_šfo
[
MAX_COMPS_IN_SCAN
];

667 
JDIMENSION
 
MCUs_³r_row
;

668 
JDIMENSION
 
MCU_rows_š_sÿn
;

670 
blocks_š_MCU
;

671 
MCU_memb”sh
[
D_MAX_BLOCKS_IN_MCU
];

675 
Ss
, 
Se
, 
Ah
, 
Al
;

677 #ià
JPEG_LIB_VERSION
 >= 80

680 
block_size
;

681 cÚ¡ * 
Çtu¿l_Üd”
;

682 
lim_Se
;

689 
uÄ—d_m¬k”
;

694 
j³g_decomp_ma¡”
 * 
ma¡”
;

695 
j³g_d_maš_cÚŒŞËr
 * 
maš
;

696 
j³g_d_cÛf_cÚŒŞËr
 * 
cÛf
;

697 
j³g_d_po¡_cÚŒŞËr
 * 
po¡
;

698 
j³g_šput_cÚŒŞËr
 * 
šputùl
;

699 
j³g_m¬k”_»ad”
 * 
m¬k”
;

700 
j³g_’Œİy_decod”
 * 
’Œİy
;

701 
j³g_šv”£_dù
 * 
idù
;

702 
j³g_up§m¶”
 * 
up§m¶e
;

703 
j³g_cŞÜ_decÚv”‹r
 * 
ccÚv”t
;

704 
j³g_cŞÜ_quªtiz”
 * 
cquªtize
;

718 
	sj³g_”rÜ_mgr
 {

720 (*
”rÜ_ex™
è(
j_commÚ_±r
 
cšfo
);

722 (*
em™_mes§ge
è(
j_commÚ_±r
 
cšfo
, 
msg_Ëv–
);

724 (*
ouut_mes§ge
è(
j_commÚ_±r
 
cšfo
);

726 (*
fÜm©_mes§ge
è(
j_commÚ_±r
 
cšfo
, * 
bufãr
);

727 
	#JMSG_LENGTH_MAX
 200

	)

729 (*
»£t_”rÜ_mgr
è(
j_commÚ_±r
 
cšfo
);

734 
msg_code
;

735 
	#JMSG_STR_PARM_MAX
 80

	)

737 
i
[8];

738 
s
[
JMSG_STR_PARM_MAX
];

739 } 
msg_·rm
;

743 
Œaû_Ëv–
;

751 
num_w¬nšgs
;

763 cÚ¡ * cÚ¡ * 
j³g_mes§ge_bË
;

764 
Ï¡_j³g_mes§ge
;

768 cÚ¡ * cÚ¡ * 
addÚ_mes§ge_bË
;

769 
fœ¡_addÚ_mes§ge
;

770 
Ï¡_addÚ_mes§ge
;

776 
	sj³g_´og»ss_mgr
 {

777 (*
´og»ss_mÚ™Ü
è(
j_commÚ_±r
 
cšfo
);

779 
·ss_couÁ”
;

780 
·ss_lim™
;

781 
com¶‘ed_·s£s
;

782 
tÙ®_·s£s
;

788 
	sj³g_de¡š©iÚ_mgr
 {

789 
JOCTET
 * 
Ãxt_ouut_by‹
;

790 
size_t
 
ä“_š_bufãr
;

792 (*
š™_de¡š©iÚ
è(
j_com´ess_±r
 
cšfo
);

793 
boŞ—n
 (*
em±y_ouut_bufãr
è(
j_com´ess_±r
 
cšfo
);

794 (*
‹rm_de¡š©iÚ
è(
j_com´ess_±r
 
cšfo
);

800 
	sj³g_sourû_mgr
 {

801 cÚ¡ 
JOCTET
 * 
Ãxt_šput_by‹
;

802 
size_t
 
by‹s_š_bufãr
;

804 (*
š™_sourû
è(
j_decom´ess_±r
 
cšfo
);

805 
boŞ—n
 (*
fl_šput_bufãr
è(
j_decom´ess_±r
 
cšfo
);

806 (*
sk_šput_d©a
è(
j_decom´ess_±r
 
cšfo
, 
num_by‹s
);

807 
boŞ—n
 (*
»sync_to_»¡¬t
è(
j_decom´ess_±r
 
cšfo
, 
desœed
);

808 (*
‹rm_sourû
è(
j_decom´ess_±r
 
cšfo
);

823 
	#JPOOL_PERMANENT
 0

	)

824 
	#JPOOL_IMAGE
 1

	)

825 
	#JPOOL_NUMPOOLS
 2

	)

827 
jvœt_§¼ay_cÚŒŞ
 * 
	tjvœt_§¼ay_±r
;

828 
jvœt_b¬¿y_cÚŒŞ
 * 
	tjvœt_b¬¿y_±r
;

831 
	sj³g_memÜy_mgr
 {

833 * (*
®loc_sm®l
è(
j_commÚ_±r
 
cšfo
, 
poŞ_id
, 
size_t
 
sizeofobjeù
);

834 * (*
®loc_Ïrge
è(
j_commÚ_±r
 
cšfo
, 
poŞ_id
,

835 
size_t
 
sizeofobjeù
);

836 
JSAMPARRAY
 (*
®loc_§¼ay
è(
j_commÚ_±r
 
cšfo
, 
poŞ_id
,

837 
JDIMENSION
 
§m¶e¥”row
, JDIMENSION 
numrows
);

838 
JBLOCKARRAY
 (*
®loc_b¬¿y
è(
j_commÚ_±r
 
cšfo
, 
poŞ_id
,

839 
JDIMENSION
 
block¥”row
, JDIMENSION 
numrows
);

840 
jvœt_§¼ay_±r
 (*
»que¡_vœt_§¼ay
è(
j_commÚ_±r
 
cšfo
, 
poŞ_id
,

841 
boŞ—n
 
´e_z”o
,

842 
JDIMENSION
 
§m¶e¥”row
,

843 
JDIMENSION
 
numrows
,

844 
JDIMENSION
 
maxacûss
);

845 
jvœt_b¬¿y_±r
 (*
»que¡_vœt_b¬¿y
è(
j_commÚ_±r
 
cšfo
, 
poŞ_id
,

846 
boŞ—n
 
´e_z”o
,

847 
JDIMENSION
 
block¥”row
,

848 
JDIMENSION
 
numrows
,

849 
JDIMENSION
 
maxacûss
);

850 (*
»®ize_vœt_¬¿ys
è(
j_commÚ_±r
 
cšfo
);

851 
JSAMPARRAY
 (*
acûss_vœt_§¼ay
è(
j_commÚ_±r
 
cšfo
, 
jvœt_§¼ay_±r
 
±r
,

852 
JDIMENSION
 
¡¬t_row
, JDIMENSION 
num_rows
,

853 
boŞ—n
 
wr™abË
);

854 
JBLOCKARRAY
 (*
acûss_vœt_b¬¿y
è(
j_commÚ_±r
 
cšfo
, 
jvœt_b¬¿y_±r
 
±r
,

855 
JDIMENSION
 
¡¬t_row
, JDIMENSION 
num_rows
,

856 
boŞ—n
 
wr™abË
);

857 (*
ä“_poŞ
è(
j_commÚ_±r
 
cšfo
, 
poŞ_id
);

858 (*
£lf_de¡ruù
è(
j_commÚ_±r
 
cšfo
);

865 
max_memÜy_to_u£
;

868 
max_®loc_chunk
;

875 
boŞ—n
 (*
	tj³g_m¬k”_·r£r_m‘hod
è(
	tj_decom´ess_±r
 
	tcšfo
);

885 
	#JPP
(
¬gli¡
è
	)
arglist

889 
EXTERN
(
j³g_”rÜ_mgr
 *è
j³g_¡d_”rÜ
 (j³g_”rÜ_mg¸* 
”r
);

898 
	#j³g_ü—‹_com´ess
(
cšfo
) \

899 
	`j³g_C»©eCom´ess
((
cšfo
), 
JPEG_LIB_VERSION
, \

900 (
size_t
è(
j³g_com´ess_¡ruù
))

	)

901 
	#j³g_ü—‹_decom´ess
(
cšfo
) \

902 
	`j³g_C»©eDecom´ess
((
cšfo
), 
JPEG_LIB_VERSION
, \

903 (
size_t
è(
j³g_decom´ess_¡ruù
))

	)

904 
EXTERN
(è
j³g_C»©eCom´ess
 (
j_com´ess_±r
 
cšfo
, 
v”siÚ
,

905 
size_t
 
¡ruùsize
);

906 
EXTERN
(è
j³g_C»©eDecom´ess
 (
j_decom´ess_±r
 
cšfo
, 
v”siÚ
,

907 
size_t
 
¡ruùsize
);

909 
EXTERN
(è
j³g_de¡roy_com´ess
 (
j_com´ess_±r
 
cšfo
);

910 
EXTERN
(è
j³g_de¡roy_decom´ess
 (
j_decom´ess_±r
 
cšfo
);

914 
EXTERN
(è
j³g_¡dio_de¡
 (
j_com´ess_±r
 
cšfo
, 
FILE
 * 
outfe
);

915 
EXTERN
(è
j³g_¡dio_¤c
 (
j_decom´ess_±r
 
cšfo
, 
FILE
 * 
šfe
);

917 #ià
JPEG_LIB_VERSION
 >ğ80 || 
defšed
(
MEM_SRCDST_SUPPORTED
)

919 
EXTERN
(è
j³g_mem_de¡
 (
j_com´ess_±r
 
cšfo
, ** 
outbufãr
,

920 * 
outsize
);

921 
EXTERN
(è
j³g_mem_¤c
 (
j_decom´ess_±r
 
cšfo
, * 
šbufãr
,

922 
šsize
);

926 
EXTERN
(è
j³g_£t_deçuÉs
 (
j_com´ess_±r
 
cšfo
);

928 
EXTERN
(è
j³g_£t_cŞÜ¥aû
 (
j_com´ess_±r
 
cšfo
,

929 
J_COLOR_SPACE
 
cŞÜ¥aû
);

930 
EXTERN
(è
j³g_deçuÉ_cŞÜ¥aû
 (
j_com´ess_±r
 
cšfo
);

931 
EXTERN
(è
j³g_£t_qu®™y
 (
j_com´ess_±r
 
cšfo
, 
qu®™y
,

932 
boŞ—n
 
fÜû_ba£lše
);

933 
EXTERN
(è
j³g_£t_lš—r_qu®™y
 (
j_com´ess_±r
 
cšfo
, 
sÿË_çùÜ
,

934 
boŞ—n
 
fÜû_ba£lše
);

935 #ià
JPEG_LIB_VERSION
 >= 70

936 
EXTERN
(è
j³g_deçuÉ_qbËs
 (
j_com´ess_±r
 
cšfo
,

937 
boŞ—n
 
fÜû_ba£lše
);

939 
EXTERN
(è
j³g_add_quªt_bË
 (
j_com´ess_±r
 
cšfo
, 
which_tbl
,

940 cÚ¡ *
basic_bË
,

941 
sÿË_çùÜ
, 
boŞ—n
 
fÜû_ba£lše
);

942 
EXTERN
(è
j³g_qu®™y_sÿlšg
 (
qu®™y
);

943 
EXTERN
(è
j³g_sim¶e_´og»ssiÚ
 (
j_com´ess_±r
 
cšfo
);

944 
EXTERN
(è
j³g_suµ»ss_bËs
 (
j_com´ess_±r
 
cšfo
, 
boŞ—n
 
suµ»ss
);

945 
EXTERN
(
JQUANT_TBL
 *è
j³g_®loc_quªt_bË
 (
j_commÚ_±r
 
cšfo
);

946 
EXTERN
(
JHUFF_TBL
 *è
j³g_®loc_huff_bË
 (
j_commÚ_±r
 
cšfo
);

949 
EXTERN
(è
j³g_¡¬t_com´ess
 (
j_com´ess_±r
 
cšfo
,

950 
boŞ—n
 
wr™e_®l_bËs
);

951 
EXTERN
(
JDIMENSION
è
j³g_wr™e_sÿÆšes
 (
j_com´ess_±r
 
cšfo
,

952 
JSAMPARRAY
 
sÿÆšes
,

953 
JDIMENSION
 
num_lšes
);

954 
EXTERN
(è
j³g_fšish_com´ess
 (
j_com´ess_±r
 
cšfo
);

956 #ià
JPEG_LIB_VERSION
 >= 70

958 
EXTERN
(è
j³g_ÿlc_j³g_dim’siÚs
 (
j_com´ess_±r
 
cšfo
);

962 
EXTERN
(
JDIMENSION
è
j³g_wr™e_¿w_d©a
 (
j_com´ess_±r
 
cšfo
, 
JSAMPIMAGE
 
d©a
,

963 
JDIMENSION
 
num_lšes
);

966 
EXTERN
(è
j³g_wr™e_m¬k”
 (
j_com´ess_±r
 
cšfo
, 
m¬k”
,

967 cÚ¡ 
JOCTET
 * 
d©­Œ
, 
d©®’
);

969 
EXTERN
(è
j³g_wr™e_m_h—d”
 (
j_com´ess_±r
 
cšfo
, 
m¬k”
,

970 
d©®’
);

971 
EXTERN
(è
j³g_wr™e_m_by‹
 (
j_com´ess_±r
 
cšfo
, 
v®
);

974 
EXTERN
(è
j³g_wr™e_bËs
 (
j_com´ess_±r
 
cšfo
);

977 
EXTERN
(è
j³g_»ad_h—d”
 (
j_decom´ess_±r
 
cšfo
, 
boŞ—n
 
»quœe_image
);

979 
	#JPEG_SUSPENDED
 0

	)

980 
	#JPEG_HEADER_OK
 1

	)

981 
	#JPEG_HEADER_TABLES_ONLY
 2

	)

989 
EXTERN
(
boŞ—n
è
j³g_¡¬t_decom´ess
 (
j_decom´ess_±r
 
cšfo
);

990 
EXTERN
(
JDIMENSION
è
j³g_»ad_sÿÆšes
 (
j_decom´ess_±r
 
cšfo
,

991 
JSAMPARRAY
 
sÿÆšes
,

992 
JDIMENSION
 
max_lšes
);

993 
EXTERN
(
boŞ—n
è
j³g_fšish_decom´ess
 (
j_decom´ess_±r
 
cšfo
);

996 
EXTERN
(
JDIMENSION
è
j³g_»ad_¿w_d©a
 (
j_decom´ess_±r
 
cšfo
, 
JSAMPIMAGE
 
d©a
,

997 
JDIMENSION
 
max_lšes
);

1000 
EXTERN
(
boŞ—n
è
j³g_has_muÉË_sÿns
 (
j_decom´ess_±r
 
cšfo
);

1001 
EXTERN
(
boŞ—n
è
j³g_¡¬t_ouut
 (
j_decom´ess_±r
 
cšfo
, 
sÿn_numb”
);

1002 
EXTERN
(
boŞ—n
è
j³g_fšish_ouut
 (
j_decom´ess_±r
 
cšfo
);

1003 
EXTERN
(
boŞ—n
è
j³g_šput_com¶‘e
 (
j_decom´ess_±r
 
cšfo
);

1004 
EXTERN
(è
j³g_Ãw_cŞÜm­
 (
j_decom´ess_±r
 
cšfo
);

1005 
EXTERN
(è
j³g_cÚsume_šput
 (
j_decom´ess_±r
 
cšfo
);

1008 
	#JPEG_REACHED_SOS
 1

	)

1009 
	#JPEG_REACHED_EOI
 2

	)

1010 
	#JPEG_ROW_COMPLETED
 3

	)

1011 
	#JPEG_SCAN_COMPLETED
 4

	)

1014 #ià
JPEG_LIB_VERSION
 >= 80

1015 
EXTERN
(è
j³g_cÜe_ouut_dim’siÚs
 (
j_decom´ess_±r
 
cšfo
);

1017 
EXTERN
(è
j³g_ÿlc_ouut_dim’siÚs
 (
j_decom´ess_±r
 
cšfo
);

1020 
EXTERN
(è
j³g_§ve_m¬k”s
 (
j_decom´ess_±r
 
cšfo
, 
m¬k”_code
,

1021 
Ëngth_lim™
);

1024 
EXTERN
(è
j³g_£t_m¬k”_´oûssÜ
 (
j_decom´ess_±r
 
cšfo
,

1025 
m¬k”_code
,

1026 
j³g_m¬k”_·r£r_m‘hod
 
routše
);

1029 
EXTERN
(
jvœt_b¬¿y_±r
 *è
j³g_»ad_cÛffic›Ás
 (
j_decom´ess_±r
 
cšfo
);

1030 
EXTERN
(è
j³g_wr™e_cÛffic›Ás
 (
j_com´ess_±r
 
cšfo
,

1031 
jvœt_b¬¿y_±r
 * 
cÛf_¬¿ys
);

1032 
EXTERN
(è
j³g_cİy_ü™iÿl_·¿m‘”s
 (
j_decom´ess_±r
 
¤cšfo
,

1033 
j_com´ess_±r
 
d¡šfo
);

1041 
EXTERN
(è
j³g_abÜt_com´ess
 (
j_com´ess_±r
 
cšfo
);

1042 
EXTERN
(è
j³g_abÜt_decom´ess
 (
j_decom´ess_±r
 
cšfo
);

1047 
EXTERN
(è
j³g_abÜt
 (
j_commÚ_±r
 
cšfo
);

1048 
EXTERN
(è
j³g_de¡roy
 (
j_commÚ_±r
 
cšfo
);

1051 
EXTERN
(
boŞ—n
è
j³g_»sync_to_»¡¬t
 (
j_decom´ess_±r
 
cšfo
, 
desœed
);

1058 
	#JPEG_RST0
 0xD0

	)

1059 
	#JPEG_EOI
 0xD9

	)

1060 
	#JPEG_APP0
 0xE0

	)

1061 
	#JPEG_COM
 0xFE

	)

1069 #ifdeà
INCOMPLETE_TYPES_BROKEN


1070 #iâdeà
JPEG_INTERNALS


1071 
	sjvœt_§¼ay_cÚŒŞ
 { 
dummy
; };

1072 
	sjvœt_b¬¿y_cÚŒŞ
 { 
dummy
; };

1073 
	sj³g_comp_ma¡”
 { 
dummy
; };

1074 
	sj³g_c_maš_cÚŒŞËr
 { 
dummy
; };

1075 
	sj³g_c_´•_cÚŒŞËr
 { 
dummy
; };

1076 
	sj³g_c_cÛf_cÚŒŞËr
 { 
dummy
; };

1077 
	sj³g_m¬k”_wr™”
 { 
dummy
; };

1078 
	sj³g_cŞÜ_cÚv”‹r
 { 
dummy
; };

1079 
	sj³g_down§m¶”
 { 
dummy
; };

1080 
	sj³g_fÜw¬d_dù
 { 
dummy
; };

1081 
	sj³g_’Œİy_’cod”
 { 
dummy
; };

1082 
	sj³g_decomp_ma¡”
 { 
dummy
; };

1083 
	sj³g_d_maš_cÚŒŞËr
 { 
dummy
; };

1084 
	sj³g_d_cÛf_cÚŒŞËr
 { 
dummy
; };

1085 
	sj³g_d_po¡_cÚŒŞËr
 { 
dummy
; };

1086 
	sj³g_šput_cÚŒŞËr
 { 
dummy
; };

1087 
	sj³g_m¬k”_»ad”
 { 
dummy
; };

1088 
	sj³g_’Œİy_decod”
 { 
dummy
; };

1089 
	sj³g_šv”£_dù
 { 
dummy
; };

1090 
	sj³g_up§m¶”
 { 
dummy
; };

1091 
	sj³g_cŞÜ_decÚv”‹r
 { 
dummy
; };

1092 
	sj³g_cŞÜ_quªtiz”
 { 
dummy
; };

1104 #ifdeà
JPEG_INTERNALS


1105 
	~"j³gšt.h
"

1106 
	~"j”rÜ.h
"

1109 #ifdeà
__ılu¥lus


1110 #iâdeà
DONT_USE_EXTERN_C


	@
1
.
0
17
247
debug.cpp
debug.h
demo.cpp
demo.h
jpegdecode.cpp
jpegdecode.h
main.cpp
mainwindow.cpp
mainwindow.h
moc_mainwindow.cpp
ringbuffer.cpp
ringbuffer.h
sdk.h
stream.cpp
stream.h
ui_mainwindow.h
/usr/local/libjpeg-turbo-1.4.2/freescale/include/jpeglib.h
